import{a as W}from"./chunk-ZVIJR332.js";import{a as J,b as Q}from"./chunk-67L2D37R.js";import{a as H}from"./chunk-QB45CYLT.js";import{a as G}from"./chunk-PCJ7NPHM.js";import{a as q,c as z}from"./chunk-TGFNN4Q3.js";import"./chunk-TCCOFJRO.js";import{a as A}from"./chunk-6FCDGXAG.js";import"./chunk-JYKJOJ6J.js";import"./chunk-4JNPEXEF.js";import"./chunk-FYP6HQPU.js";import{c as D,e as E}from"./chunk-5ETXQJ6Z.js";import{a as V,c as B,f as $}from"./chunk-4SPE7LMF.js";import"./chunk-7GZRYZ3W.js";import"./chunk-CARY4E7O.js";import{d as R}from"./chunk-EYGZ565A.js";import"./chunk-HEOXUAG5.js";import{b as j}from"./chunk-NMLM2UYX.js";import{c as T,f as F}from"./chunk-JVFQFS5Z.js";import{ma as N,na as L}from"./chunk-OUSHV2EZ.js";import{a as K,b as U}from"./chunk-NKIKHFFW.js";import"./chunk-ZQAR5GQS.js";import{$a as s,Ab as w,Bb as b,Cb as o,Db as l,Eb as _,Ib as S,Lb as C,Nb as p,Nc as I,Tc as O,Vb as d,Wb as y,_a as a,cc as k,f as m,ja as x,oa as M,rb as g,tb as u,u as v,wa as f,xa as h,yb as P}from"./chunk-BTT23VXK.js";var Y=(t,r)=>r.phrase;function Z(t,r){t&1&&_(0,"mat-progress-spinner",2)}function ee(t,r){if(t&1){let e=S();o(0,"mat-card",4),C("click",function(){let n=f(e).$implicit,c=p(2);return h(c.selectPhrase(n))}),o(1,"mat-card-content",5)(2,"div",6),d(3),l(),o(4,"div",7)(5,"button",8),C("appLongPress",function(){let n=f(e).$implicit,c=p(2);return h(c.deletePhrase(n))}),o(6,"mat-icon",9),d(7,"delete"),l()()()()(),_(8,"br")}if(t&2){let e=r.$implicit;a(3),y(e.phrase)}}function te(t,r){t&1&&(o(0,"div",10),d(1,"There are no complete sentences."),l())}function ie(t,r){if(t&1&&(o(0,"div"),w(1,ee,9,1,null,null,Y),g(3,te,2,0,"div",3),l()),t&2){let e=p();a(),b(e.phrases),a(2),u("ngIf",!e.loading&&e.phrases.length===0)}}var Oe=(()=>{class t{constructor(e,i,n,c,X){this.db=e,this.phraseService=i,this.router=n,this.snack=c,this.dialog=X,this.phrases=[],this.loading=!1,this.title="Complete Sentences",this.navService=x(U),this.isFabOpen=!1,this.setNav()}ngOnInit(){this.load()}setNav(){this.navService.reSetNavConfig();let e=new K;e.title=this.title,e.ico.menu=!1,e.ico.back=!0,e.ico.home=!1,e.ico.favorite=!1,e.ico.logut=!1,e.ico.label=!1,e.ico.sds=!1,e.goto="app/phrase/main",this.navService.setNavConfig(e)}load(){return m(this,null,function*(){this.loading=!0;try{let e=yield this.db.getAllPhrase();this.phrases=(e??[]).filter(i=>i.isComplete===!0)}catch(e){console.error(e),this.snack.open("Error load the conplete Sentences","Cerrar",{duration:2e3})}finally{this.loading=!1}})}selectPhrase(e){this.phraseService.setCurrentString(e.phrase),this.router.navigate(["/app/phrase/main"])}deletePhrase(e){return m(this,null,function*(){if(!(!e?.id||!(yield this.confirmDelete())))try{yield this.db.deletePhrase(e.id),this.snack.open("Phrase was delete","OK",{duration:1500}),yield this.load()}catch(n){console.error(n),this.snack.open("Error...","close",{duration:2e3})}})}confirmDelete(){return m(this,null,function*(){this.isFabOpen=!1;let e=this.dialog.open(z,{data:{message:"Are you sure you want to delete this Sentences?"}});return!!(yield v(e.afterClosed()))})}static{this.\u0275fac=function(i){return new(i||t)(s(A),s(H),s(T),s(G),s(q))}}static{this.\u0275cmp=M({type:t,selectors:[["app-complete-phrase"]],standalone:!0,features:[k],decls:3,vars:2,consts:[[1,"container"],["diameter","36","mode","indeterminate",4,"ngIf"],["diameter","36","mode","indeterminate"],["class","empty",4,"ngIf"],[1,"clickable-card",3,"click"],[1,"card-content"],[1,"phrase-text"],[1,"actions"],["mat-icon-button","","appLongPress","","aria-label","Eliminar",3,"appLongPress"],[2,"color","brown"],[1,"empty"]],template:function(i,n){i&1&&(o(0,"div",0),g(1,Z,1,0,"mat-progress-spinner",1)(2,ie,4,1,"div"),l()),i&2&&(a(),u("ngIf",n.loading),a(),P(2,!n.loading&&n.phrases.length?2:-1))},dependencies:[O,I,R,$,V,B,L,N,E,D,j,Q,J,F,W],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{margin-top:30px}.empty[_ngcontent-%COMP%]{text-align:center;padding:24px;color:#0009}.clickable-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin:0!important;padding:0!important}.card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin:0;padding:0;width:100%}.phrase-text[_ngcontent-%COMP%]{flex:1;white-space:normal;overflow:visible;text-overflow:unset;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;line-height:1.4;max-height:4.2em;margin-left:3px}.actions[_ngcontent-%COMP%]{flex-shrink:0;margin-top:2px}']})}}return t})();export{Oe as CompletePhraseComponent};
