import{a as Z,b as $}from"./chunk-DGKC4CBR.js";import{a as Y}from"./chunk-HXY7PR3N.js";import{a as Q}from"./chunk-ZFEEVNKO.js";import"./chunk-ETT73BSF.js";import"./chunk-WVRGKLLC.js";import"./chunk-HS3UH6NW.js";import{a as B,e as O}from"./chunk-GHBLUCIC.js";import{a as H,f as J}from"./chunk-NY76DPOM.js";import{a as j,b as z,c as D,i as L,j as W,l as K,m as R}from"./chunk-BB6P6G7T.js";import"./chunk-TDRG7WWG.js";import"./chunk-CARY4E7O.js";import"./chunk-PUEQNPSS.js";import{a as E,b as V}from"./chunk-EJRSTOA6.js";import{c as P}from"./chunk-WB3EYWFM.js";import{ka as q,la as G}from"./chunk-FUN2273E.js";import{a as U,b as X}from"./chunk-VKZQFCKO.js";import{b as A,f as I,i as F,t as N}from"./chunk-6LBMZFPM.js";import{$b as T,Bb as a,Cb as r,Db as C,Hb as _,Kb as u,Lc as w,Rc as k,Ub as n,Za as l,Zb as y,_a as d,_b as S,bc as b,f as h,ia as M,na as v,qb as x,sb as f,va as s,wa as m}from"./chunk-3P7EKYVL.js";function ee(o,te){o&1&&C(0,"mat-progress-spinner",10)}var Ie=(()=>{class o{constructor(e,i,t){this.db=e,this.router=i,this.snack=t,this.text="",this.saving=!1,this.navService=M(X),this.title="Add Phrase Text",this.setNav()}save(){return h(this,null,function*(){let e=this.text?.trim()??"";if(!e){this.snack.open("La frase no puede estar vac\xEDa","Cerrar",{duration:2e3});return}this.saving=!0;let i={phrase:e,isComplete:!1};try{yield this.db.addPhrase(i),this.snack.open("Frase guardada correctamente","OK",{duration:2e3}),this.text=""}catch(t){console.error(t),this.snack.open("Error guardando la frase: "+(t?.message??t),"Cerrar",{duration:3e3})}finally{this.saving=!1}})}setNav(){this.navService.reSetNavConfig();let e=new U;e.title=this.title,e.ico.menu=!1,e.ico.back=!0,e.ico.home=!1,e.ico.favorite=!1,e.ico.logut=!1,e.ico.label=!1,e.ico.sds=!1,e.goto="app/phrase/show/text",this.navService.setNavConfig(e)}static{this.\u0275fac=function(i){return new(i||o)(d(Q),d(P),d(Y))}}static{this.\u0275cmp=v({type:o,selectors:[["app-add-text-phrase"]],standalone:!0,features:[b],decls:17,vars:3,consts:[["autosize","cdkTextareaAutosize"],[1,"container"],["color","primary"],[1,"content"],["appearance","outline",1,"full"],["matInput","","rows","6","cdkTextareaAutosize","",3,"ngModelChange","ngModel"],[1,"actions"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","primary",3,"click"],["mode","indeterminate","diameter","36",4,"ngIf"],["mode","indeterminate","diameter","36"]],template:function(i,t){if(i&1){let p=_();a(0,"mat-card",1)(1,"mat-toolbar",2),n(2,"Agregar frase"),r(),a(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),n(6,"Frase"),r(),a(7,"textarea",5,0),T("ngModelChange",function(c){return s(p),S(t.text,c)||(t.text=c),m(c)}),r()(),a(9,"div",6)(10,"button",7),u("click",function(){return s(p),m(t.save())}),a(11,"mat-icon"),n(12,"save"),r(),n(13," Agregar "),r(),a(14,"button",8),u("click",function(){return s(p),m(t.text="")}),n(15,"Limpiar"),r()()(),x(16,ee,1,0,"mat-progress-spinner",9),r()}i&2&&(l(7),y("ngModel",t.text),l(3),f("disabled",t.saving),l(6),f("ngIf",t.saving))},dependencies:[k,w,N,A,I,F,z,j,W,L,D,R,K,O,B,J,H,G,q,V,E,$,Z],styles:[".container[_ngcontent-%COMP%]{max-width:900px;margin:16px auto;padding:12px}.full[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}"]})}}return o})();export{Ie as AddTextPhraseComponent};
