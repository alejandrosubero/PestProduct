import{a as mt}from"./chunk-TEMLJVNC.js";import{c as at,d as nt,e as rt}from"./chunk-FQGW37NN.js";import"./chunk-2SWJEH32.js";import"./chunk-JDZRI77W.js";import"./chunk-ZFEEVNKO.js";import"./chunk-ETT73BSF.js";import{a as it,b as ot}from"./chunk-SUYY5MRZ.js";import"./chunk-WVRGKLLC.js";import"./chunk-HS3UH6NW.js";import"./chunk-VELYPUGP.js";import{a as R,c as j,e as q}from"./chunk-GHBLUCIC.js";import{c as z,f as J,i as K,j as W,l as X,m as Y}from"./chunk-BB6P6G7T.js";import"./chunk-G3LUHJHW.js";import"./chunk-TDRG7WWG.js";import"./chunk-CARY4E7O.js";import"./chunk-PUEQNPSS.js";import{b as H}from"./chunk-EJRSTOA6.js";import"./chunk-WB3EYWFM.js";import{ea as $,ka as Z,la as tt}from"./chunk-FUN2273E.js";import{a as et}from"./chunk-VKZQFCKO.js";import{b as w,f as D,g as U,j as V,k as B,l as Q,m as G,u as L}from"./chunk-6LBMZFPM.js";import{Ab as S,Bb as i,Cb as e,Db as l,Hb as g,Kb as C,Kc as A,Lc as O,Mb as b,Pc as P,Rc as T,Tb as N,Ub as o,Vb as v,Wb as I,Za as r,bc as x,fc as k,gc as F,lb as _,na as E,qb as f,sb as m,va as d,wa as s,yb as h,za as M,zb as y}from"./chunk-3P7EKYVL.js";function lt(a,c){if(a&1){let t=g();i(0,"button",19),C("click",function(){d(t);let n=b();return s(n.clearInput())}),i(1,"mat-icon"),o(2,"close"),e()()}}function pt(a,c){if(a&1&&(i(0,"mat-option",9),o(1),e()),a&2){let t=c.$implicit;m("value",t),r(),I(" ",t," ")}}function ct(a,c){if(a&1&&(i(0,"mat-option",9),o(1),e()),a&2){let t=c.$implicit;m("value",t),r(),v(t)}}function ut(a,c){if(a&1&&(i(0,"mat-option",9),o(1),e()),a&2){let t=c.$implicit;m("value",t),r(),v(t)}}var wt=(()=>{class a extends mt{ngOnInit(){this.setNav(),this.setList(),this.product=this.store.findById(this.id),this.product!=null&&this.form.patchValue({name:this.product.name,type:this.product.type,description:this.product.description,safetyDataSheetUrl:this.product.safetyDataSheetUrl,initialQuantity:this.product.package.initialQuantity,unitOfMeasure:this.product.package.unitOfMeasure,status:this.product.package.status,locationName:this.product.package.location.locationName,locationArea:this.product.package.location.locationArea,locationSeccion:this.product.package.location.locationSeccion}),this.updateUnit(),this.controlFN(),this.form.get("name")?.valueChanges.subscribe(t=>{this.nameValue=t})}updateUnit(){this.form.get("type")?.valueChanges.subscribe(t=>{this.updateUnits(t)}),this.updateUnits(this.form.get("type")?.value)}update(){let t=this.form.value,p={id:this.product?.id,name:t.name,type:t.type,description:t.description,safetyDataSheetUrl:t.safetyDataSheetUrl,package:{id:this.product?.package.id,productId:this.product?.package.productId,locationId:t.locationId,initialQuantity:t.initialQuantity,currentQuantity:t.initialQuantity,unitOfMeasure:t.unitOfMeasure,status:t.status,location:{locationName:t.locationName,locationArea:t.locationArea,locationSeccion:t.locationSeccion},additions:[]}};p!=null&&(this.store.update(p),this.goBack())}goBack(){this.navegateService.goToDetail("app/storage/products/detail",this.id,"")}setNav(){this.navService.reSetNavConfig();let t=new et;t.title="Edit Product",t.ico.menu=!1,t.ico.back=!0,t.ico.favorite=!1,t.ico.logut=!1,t.ico.label=!1,t.ico.sds=!1,t.goto="app/storage/products",this.navService.setNavConfig(t)}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=M(a)))(n||a)}})()}static{this.\u0275cmp=E({type:a,selectors:[["app-edit-product"]],standalone:!0,features:[_,x],decls:56,vars:10,consts:[["auto","matAutocomplete"],[1,"form-wrapper",3,"ngSubmit","formGroup"],["appearance","outline"],["type","text","matInput","",3,"formControlName","formGroup","matAutocomplete"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["autoActiveFirstOption",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"full-width"],["formControlName","type"],[3,"value"],["matInput","","formControlName","description"],["matInput","","formControlName","safetyDataSheetUrl"],["matInput","","type","number","formControlName","initialQuantity"],["formControlName","unitOfMeasure"],["matInput","","formControlName","status"],["matInput","","formControlName","locationName"],["matInput","","formControlName","locationArea"],["matInput","","formControlName","locationSeccion"],["mat-raised-button","","color","primary","type","submit",1,"full-width"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(p,n){if(p&1){let u=g();i(0,"form",1),C("ngSubmit",function(){return d(u),s(n.update())}),i(1,"mat-form-field",2)(2,"mat-label"),o(3,"Product Name"),e(),l(4,"input",3),f(5,lt,3,0,"button",4),i(6,"mat-autocomplete",5,0),f(8,pt,2,2,"mat-option",6),k(9,"async"),e()(),i(10,"mat-form-field",7)(11,"mat-label"),o(12,"Type/Physical State"),e(),i(13,"mat-select",8)(14,"mat-option",9),o(15,"None"),e(),y(16,ct,2,2,"mat-option",9,h),e()(),i(18,"mat-form-field",2)(19,"mat-label"),o(20,"Description"),e(),l(21,"input",10),e(),i(22,"mat-form-field",2)(23,"mat-label"),o(24,"Safety Data Sheet Url"),e(),l(25,"input",11),e(),i(26,"mat-form-field",2)(27,"mat-label"),o(28,"Initial Quantity"),e(),l(29,"input",12),e(),i(30,"mat-form-field",7)(31,"mat-label"),o(32,"Unit Of Measure"),e(),i(33,"mat-select",13)(34,"mat-option",9),o(35,"None"),e(),y(36,ut,2,2,"mat-option",9,h),e()(),i(38,"mat-form-field",2)(39,"mat-label"),o(40,"Package status"),e(),l(41,"input",14),e(),i(42,"mat-form-field",2)(43,"mat-label"),o(44,"Location Name"),e(),l(45,"input",15),e(),i(46,"mat-form-field",2)(47,"mat-label"),o(48,"Location Area"),e(),l(49,"input",16),e(),i(50,"mat-form-field",2)(51,"mat-label"),o(52," Location Section"),e(),l(53,"input",17),e(),i(54,"button",18),o(55," Save "),e()()}if(p&2){let u=N(7);m("formGroup",n.form),r(4),m("formControlName","name")("formGroup",n.form)("matAutocomplete",u),r(),m("ngIf",n.checkValue()),r(3),m("ngForOf",F(9,8,n.filteredOptions)),r(6),m("value",null),r(2),S(n.productTypes),r(18),m("value",null),r(2),S(n.units)}},dependencies:[T,A,O,P,L,V,w,B,D,U,Q,G,W,K,z,J,rt,at,$,nt,Y,X,q,R,j,tt,Z,ot,it,H],styles:[".form-wrapper[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:1rem}.full-width[_ngcontent-%COMP%]{width:100%}"]})}}return a})();export{wt as EditProductComponent};
