import{a as mt}from"./chunk-WFTLUOAZ.js";import"./chunk-IOIZZNMI.js";import{a as ot}from"./chunk-YTLFMLCF.js";import"./chunk-IJGCEHVE.js";import{a as ct}from"./chunk-XHF45VSG.js";import{d as nt}from"./chunk-MEL4TFUZ.js";import{a as X,e as I}from"./chunk-5HXRLNIH.js";import{a as D,b as F,c as N,e as et,f as z}from"./chunk-32J2JANK.js";import{m as tt}from"./chunk-QI7IUHGN.js";import"./chunk-N6YGNK3F.js";import{a as st}from"./chunk-2R635CIO.js";import"./chunk-CARY4E7O.js";import{b as E}from"./chunk-QNN6LKLN.js";import{c as k}from"./chunk-U2HG67ES.js";import{d as it}from"./chunk-JMOUJLJZ.js";import"./chunk-SFX6QR5Y.js";import{c as K,ha as T,ia as C}from"./chunk-LDXIF6DQ.js";import{a as at,b as rt}from"./chunk-PHAMXEHF.js";import{t as W}from"./chunk-VNOUME5J.js";import{Ab as R,Ba as j,Bb as q,Cb as A,Eb as O,Gc as H,Hb as d,Hc as Y,Ic as Z,Jb as f,Jc as J,Nb as U,Nc as h,Ob as $,Pb as L,Rb as o,Sb as p,Tb as w,Vb as Q,Wa as c,Xa as b,_b as _,fa as x,ka as u,nb as g,nc as B,pb as l,rb as V,sa as M,ta as v,tc as G,ub as P,wb as y,xb as S,yb as n,zb as i}from"./chunk-IJPZGQ3D.js";var ht=(e,s)=>s.message;function Ct(e,s){if(e&1&&(n(0,"li"),o(1),i()),e&2){let t=s.$implicit;c(),w(" ",t.message," ")}}function xt(e,s){if(e&1&&(n(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon",17),o(4,"notification_important"),i(),o(5," Notifications "),i()(),n(6,"mat-card-content")(7,"ul"),y(8,Ct,2,1,"li",null,ht),i()()()),e&2){let t=f();c(8),S(t.notifications)}}function Mt(e,s){e&1&&(n(0,"li"),o(1,"No recent usage."),i())}var pt=(()=>{class e{constructor(){this.packageSummary={inUse:0,inStock:0,empty:0},this.recentUsages=[],this.notifications=[],this.store=x(ot),this.router=x(k),this.isMaybeReco=!1,G(()=>{let t=this.store.usageRecordStoreService.record();t!==null?(this.reco=t,this.isMaybeReco=!0):this.isMaybeReco=!1})}ngOnInit(){}get summary(){return this.store.getPackageSummary()}getRecord(){let t=this.store.usageRecordStoreService.record();t!==null?(this.reco=t,this.isMaybeReco=!0):this.isMaybeReco=!1}onRegisterUsage(){this.router.navigate(["app/storage/products/register/use"])}onAddNewProduct(){this.router.navigate(["app/storage/products/add"])}goToStorageList(){this.router.navigate(["app/storage/products"])}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=u({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[_],decls:47,vars:8,consts:[[1,"dashboard-container"],[1,"dashboard-card","notifications-card"],[1,"quick-actions"],[1,"button-container"],["mat-flat-button","","color","primary",1,"save-button",3,"click"],[1,"secondary-actions"],["mat-stroked-button","",1,"action-button",3,"click"],[1,"dashboard-card","summary-card"],[1,"summary-content"],[1,"summary-item"],[1,"summary-value","in-use"],[1,"summary-label"],[1,"summary-value","in-stock"],[1,"summary-value","empty"],[1,"dashboard-card","recent-usage-card"],[1,"usage-list"],[4,"ngIf"],["color","warn",1,"notification-icon"]],template:function(r,a){r&1&&(n(0,"div",0),g(1,xt,10,0,"mat-card",1),n(2,"div",2)(3,"div",3)(4,"button",4),d("click",function(){return a.onRegisterUsage()}),n(5,"mat-icon"),o(6,"add_shopping_cart"),i(),o(7," Register Product Usage "),i()(),n(8,"div",5)(9,"button",6),d("click",function(){return a.onAddNewProduct()}),n(10,"mat-icon"),o(11,"add_box"),i(),o(12," Add New "),i(),n(13,"button",6),d("click",function(){return a.goToStorageList()}),n(14,"mat-icon"),o(15,"list"),i(),o(16," Products "),i()()(),n(17,"mat-card",7)(18,"mat-card-header")(19,"mat-card-title"),o(20,"Package Summary"),i()(),n(21,"mat-card-content",8)(22,"div",9)(23,"span",10),o(24),i(),n(25,"span",11),o(26,"In Use"),i()(),n(27,"div",9)(28,"span",12),o(29),i(),n(30,"span",11),o(31,"In Stock"),i()(),n(32,"div",9)(33,"span",13),o(34),i(),n(35,"span",11),o(36,"Empty"),i()()()(),n(37,"mat-card",14)(38,"mat-card-header")(39,"mat-card-title"),o(40,"Recent Usage"),i()(),n(41,"mat-card-content")(42,"ul",15)(43,"li")(44,"span"),o(45),i()(),g(46,Mt,2,0,"li",16),i()()()()),r&2&&(c(),P(1,a.notifications.length>0?1:-1),c(23),p(a.summary.inUse),c(5),p(a.summary.inStock),c(5),p(a.summary.empty),c(11),Q("",a.reco==null?null:a.reco.productName," (",a.reco==null?null:a.reco.quantityUsed," ",a.reco==null?null:a.reco.unitOfMeasure,"))"),c(),l("ngIf",!a.isMaybeReco))},dependencies:[h,Y,z,D,N,et,F,I,X,C,T,E],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f0f2f5;font-family:Inter,sans-serif;overflow:hidden}.app-header[_ngcontent-%COMP%]{height:56px;box-shadow:0 2px 4px #0000001a;z-index:10}.app-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.dashboard-container[_ngcontent-%COMP%]{flex-grow:1;padding:16px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:flex;flex-direction:column;gap:16px}.dashboard-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 8px #0000001a;padding:16px;background-color:#fff}.dashboard-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:12px}.dashboard-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:600;display:flex;align-items:center}.dashboard-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{margin-right:8px;color:#f44336}.dashboard-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{font-size:.9em;color:#555}.notifications-card[_ngcontent-%COMP%]{border:1px solid #ffb74d;background-color:#fff3e0}.notifications-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.notifications-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px;color:#d32f2f}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;text-align:center}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;margin-bottom:4px}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.8em;color:#777}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item.in-use[_ngcontent-%COMP%]{color:#ff9800}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item.in-stock[_ngcontent-%COMP%]{color:#4caf50}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item.empty[_ngcontent-%COMP%]{color:#9e9e9e}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .usage-icon[_ngcontent-%COMP%]{font-size:1em;margin-right:8px;color:#999}.quick-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-top:16px}.quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:100%;height:60px;font-size:1.1em;font-weight:500;border-radius:10px;box-shadow:0 3px 6px #00000026}.quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.quick-actions[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]{background-color:#009688;color:#333;box-shadow:0 4px 8px #00000026}.quick-actions[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 2px 4px #0000001a}.quick-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:flex;gap:16px}.quick-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{flex:1;height:50px;font-size:1em;border:1px solid #bdbdbd;background-color:#fff;color:#333;box-shadow:0 2px 4px #0000001a}.bottom-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:56px;background-color:#fff;border-top:1px solid #e0e0e0;box-shadow:0 -2px 4px #0000001a;position:sticky;bottom:0;width:100%;z-index:10}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:.7em;color:#777;padding:0;min-width:unset;flex:1}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5em;height:1.5em;width:1.5em;margin-bottom:4px}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover, .bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:focus{background-color:transparent}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{color:#673ab7}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#673ab7}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:20px}.button-container[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{width:100%;max-width:320px;height:56px;font-size:1.2em;font-weight:600;border-radius:8px;letter-spacing:1px;text-transform:uppercase;transition:transform .1s ease-out,box-shadow .1s ease-out;box-shadow:0 4px #512da8}.button-container[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:not([disabled]):active{transform:translateY(2px);box-shadow:0 2px #512da8}.button-container[_ngcontent-%COMP%]   .save-button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;box-shadow:none;transform:none}"]})}}return e})();function vt(e,s){if(e&1){let t=O();n(0,"div",3),d("click",function(){let a=M(t).$implicit,m=f();return v(m.setStep(a.id))}),n(1,"mat-icon"),o(2),i(),n(3,"span",4),o(4),i()()}if(e&2){let t=s.$implicit,r=f();V("active",r.currentStep===t.id),c(2),p(t.icon),c(2),p(t.label)}}var gt=(()=>{class e{constructor(){this.stepChanged=new j,this.tabs=[{id:"favorites",label:"FAVORITES",icon:"star"},{id:"formulations",label:"FORMULATIONS",icon:"science"},{id:"storage",label:"STORAGE",icon:"inventory_2"}],this.currentStep="favorites"}setStep(t){this.currentStep=t,this.stepChanged.emit(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=u({type:e,selectors:[["app-magic-nav"]],outputs:{stepChanged:"stepChanged"},standalone:!0,features:[_],decls:3,vars:1,consts:[[1,"magic-menu"],[1,"tab-container"],["class","tab","tabindex","0",3,"active","click",4,"ngFor","ngForOf"],["tabindex","0",1,"tab",3,"click"],[1,"tab-label"]],template:function(r,a){r&1&&(n(0,"nav",0)(1,"div",1),g(2,vt,5,4,"div",2),i()()),r&2&&(c(2),l("ngForOf",a.tabs))},dependencies:[C,T,h,H],styles:["[_nghost-%COMP%]{display:block;width:100%}.magic-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;position:fixed;bottom:0;left:0;width:100%;height:80px;background:#05418f;box-shadow:0 -4px 15px #000c;border-radius:0;z-index:9;padding:0 10px}.tab-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-around}.tab[_ngcontent-%COMP%]{text-align:center;color:#fff9;font-family:Arial,sans-serif;font-size:12px;transition:transform .3s ease,color .3s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:6px 0;min-height:70px;overflow:visible}.tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{display:block;margin-top:6px}.tab[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;line-height:1;height:32px;width:32px;overflow:visible;color:#fffc;filter:drop-shadow(0 3px 4px rgba(0,0,0,.7));transition:color .3s ease,filter .3s ease}.tab.active[_ngcontent-%COMP%]{transform:translateY(-5px) scale(1.15)}.tab.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#eaebed;filter:drop-shadow(0 0 15px #d3d3d0);animation:_ngcontent-%COMP%_pulseGlow 1.5s infinite alternate;transform:perspective(200px) translateZ(10px)}.tab.active[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{color:#f9f9fb;text-shadow:0 0 6px rgb(255,255,255)}@keyframes _ngcontent-%COMP%_pulseGlow{0%{filter:drop-shadow(0 0 10px #fff200)}to{filter:drop-shadow(0 0 25px #fcfcfc)}}@media (max-width: 768px){.magic-menu[_ngcontent-%COMP%]{height:70px}.tab[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px}.tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{font-size:11px}}"]})}}return e})();var bt=["magicNav"],Ot=(e,s)=>s.name;function Pt(e,s){e&1&&(n(0,"div",5)(1,"p"),o(2,"No favorites saved yet. Add products to favorites to see them here."),i()())}function yt(e,s){if(e&1){let t=O();n(0,"mat-card",7),d("click",function(){let a=M(t).$implicit,m=f(2);return v(m.goToDetail(a.id))}),n(1,"mat-card-title"),o(2),i(),n(3,"mat-card-content")(4,"p")(5,"strong"),o(6,"Active Ingredient:"),i(),o(7),i()()()}if(e&2){let t=s.$implicit;c(2),p(t.name),c(5),w(" ",t.activeIngredients,"")}}function St(e,s){if(e&1&&(n(0,"section"),g(1,Pt,3,0,"div",5),y(2,yt,8,2,"mat-card",6,Ot),i()),e&2){let t=f();c(),P(1,t.favorites.length===0?1:-1),c(),S(t.favorites)}}function wt(e,s){e&1&&(n(0,"section"),R(1,"app-formulations-list"),i())}function kt(e,s){e&1&&(n(0,"section"),R(1,"app-dashboard"),i())}var fe=(()=>{class e{constructor(t,r,a,m){this.favService=t,this.router=r,this.navegateService=a,this.cdr=m,this.favorites=[],this.title="My Products",this.currentStep="favorites",this.pestData={id:0,name:""},this.id=0,this.navService=x(rt),this.currentStepInternal="favorites",this.getData()}ngAfterViewInit(){this.magicChild&&(this.pestData.name==="formulations"||this.pestData.name==="storage")&&(this.magicChild.currentStep=this.currentStepInternal,this.cdr.detectChanges())}ngOnInit(){this.favorites=this.favService.getFavorites()}goToDetail(t){this.navegateService.goToDetail("app/product",t,"favorites")}goHome(){this.router.navigate(["/home"])}getData(){if(this.pestData=this.navegateService.getData(this.router),this.id=this.pestData.id,this.checkCcurrentStep(this.pestData.name),this.setNav(),this.pestData.name==="formulations"||this.pestData.name==="storage"){this.currentStepInternal=this.pestData.name;let t="favorites";t=this.pestData.name,this.setStep(t)}}checkCcurrentStep(t){t!=""?this.currentStep=t==="storage"?"storage":t==="formulations"?"formulations":"favorites":this.currentStep="favorites",this.setStep(this.currentStep)}setStep(t){switch(this.currentStep=t,t){case"favorites":this.title="My Products",this.navService.updateTitle(this.title);break;case"formulations":this.title="Formulations",this.navService.updateTitle(this.title);break;case"storage":this.title="Storage",this.navService.updateTitle(this.title);break}}setNav(){this.navService.reSetNavConfig();let t=new at;t.title="My Products",t.ico.menu=!1,t.ico.back=!0,t.ico.favorite=!1,t.ico.logut=!1,t.ico.label=!1,t.ico.sds=!1,t.goto="app/home",this.navService.setNavConfig(t)}static{this.\u0275fac=function(r){return new(r||e)(b(ct),b(k),b(st),b(B))}}static{this.\u0275cmp=u({type:e,selectors:[["app-favorites"]],viewQuery:function(r,a){if(r&1&&U(bt,5),r&2){let m;$(m=L())&&(a.magicChild=m.first)}},standalone:!0,features:[_],decls:7,vars:4,consts:[["magicNav",""],[3,"stepChanged"],[1,"section-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"empty"],[1,"clickable-card"],[1,"clickable-card",3,"click"]],template:function(r,a){if(r&1){let m=O();n(0,"app-magic-nav",1,0),d("stepChanged",function(ft){return M(m),v(a.setStep(ft))}),i(),n(2,"main",2),q(3,3),g(4,St,4,1,"section",4)(5,wt,2,0,"section",4)(6,kt,2,0,"section",4),A(),i()}r&2&&(c(3),l("ngSwitch",a.currentStep),c(),l("ngSwitchCase","favorites"),c(),l("ngSwitchCase","formulations"),c(),l("ngSwitchCase","storage"))},dependencies:[h,Z,J,K,W,E,I,tt,C,z,D,N,F,nt,mt,it,pt,gt],styles:[".main-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:0 12px;height:56px;color:#fff;position:sticky;top:0;z-index:10}.toolbar-title[_ngcontent-%COMP%]{font-weight:600;margin-left:16px;font-size:18px}.section-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500;margin:20px 0 12px;text-align:center}.step-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:#f5f5f5;padding:6px 0;position:sticky;top:56px;z-index:9;border-bottom:1px solid #ddd}.step-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;align-items:center;text-transform:none;font-size:12px;color:#555}.step-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.step-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#04519f}.step-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2c79c5}.section-container[_ngcontent-%COMP%]{padding:16px;min-height:calc(100vh - 112px);background-color:#fafafa}.clickable-card[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:20px;padding:1rem;cursor:pointer;border-radius:12px;box-shadow:0 2px 8px #00000014}.empty[_ngcontent-%COMP%]{text-align:center;color:#777;margin-top:2rem;font-style:italic}"]})}}return e})();export{fe as FavoritesComponent};
