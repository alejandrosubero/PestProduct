import{a as Q}from"./chunk-IIAA4KVY.js";import{a as H,b as J}from"./chunk-DGKC4CBR.js";import{a as G}from"./chunk-WUAYZ3HG.js";import{a as q}from"./chunk-HXY7PR3N.js";import{a as z,c as U}from"./chunk-EKB7MQIZ.js";import"./chunk-ZQJPGA2F.js";import{a as A}from"./chunk-ZFEEVNKO.js";import"./chunk-ETT73BSF.js";import"./chunk-WVRGKLLC.js";import"./chunk-HS3UH6NW.js";import{b as N,c as V,e as j}from"./chunk-GHBLUCIC.js";import{a as L,c as B,f as $}from"./chunk-NY76DPOM.js";import"./chunk-TDRG7WWG.js";import"./chunk-CARY4E7O.js";import{d as Y}from"./chunk-LELZTVYS.js";import"./chunk-PUEQNPSS.js";import{b as F}from"./chunk-EJRSTOA6.js";import{c as I}from"./chunk-WB3EYWFM.js";import{ka as D,la as E}from"./chunk-FUN2273E.js";import{a as K,b as R}from"./chunk-VKZQFCKO.js";import"./chunk-6LBMZFPM.js";import{Ab as S,Bb as o,Cb as l,Db as u,Hb as x,Kb as g,Lc as T,Mb as p,Rc as O,Ub as m,Vb as y,Za as r,_a as s,bc as k,f as d,ia as v,na as w,qb as P,sb as _,u as C,va as f,wa as h,xb as b,zb as M}from"./chunk-3P7EKYVL.js";var X=(t,a)=>a.phrase;function Z(t,a){t&1&&u(0,"mat-progress-spinner",3)}function ee(t,a){if(t&1){let e=x();o(0,"mat-card",5),g("click",function(){let i=f(e).$implicit,c=p(2);return h(c.selectPhrase(i))}),o(1,"mat-card-content",6)(2,"div",7),m(3),l(),o(4,"div",8)(5,"button",9),g("appLongPress",function(){let i=f(e).$implicit,c=p(2);return h(c.deletePhrase(i))}),o(6,"mat-icon",10),m(7,"delete"),l()()()()(),u(8,"br")}if(t&2){let e=a.$implicit;r(3),y(e.phrase)}}function te(t,a){if(t&1){let e=x();o(0,"div"),M(1,ee,9,1,null,null,X),o(3,"button",4),g("click",function(){f(e);let i=p();return h(i.addNew())}),o(4,"mat-icon"),m(5,"add"),l()()()}if(t&2){let e=p();r(),S(e.phrases)}}function ie(t,a){t&1&&(o(0,"div",11),m(1," No phrases "),l())}var Te=(()=>{class t{constructor(e,n,i,c,W){this.db=e,this.phraseService=n,this.router=i,this.snack=c,this.dialog=W,this.phrases=[],this.loading=!1,this.navService=v(R),this.title="list of Phrase",this.isFabOpen=!1,this.setNav()}ngOnInit(){this.load()}load(){return d(this,null,function*(){this.loading=!0;try{let e=yield this.db.getAllPhrase();this.phrases=(e??[]).filter(n=>n.isComplete===!1)}catch(e){console.error(e),this.snack.open("Error to load phrases","close",{duration:2e3})}finally{this.loading=!1}})}selectPhrase(e){this.snack.open("put in list","OK",{duration:500}),this.phraseService.addToList(e.phrase)}deletePhrase(e){return d(this,null,function*(){if(!(!e?.id||!(yield this.confirmDelete())))try{yield this.db.deletePhrase(e.id),this.snack.open("Phrase was delete","OK",{duration:1500}),yield this.load()}catch(i){console.error(i),this.snack.open("Error...","close",{duration:2e3})}})}confirmDelete(){return d(this,null,function*(){this.isFabOpen=!1;let e=this.dialog.open(U,{data:{message:"Are you sure you want to delete this phrase?"}});return!!(yield C(e.afterClosed()))})}setNav(){this.navService.reSetNavConfig();let e=new K;e.title=this.title,e.ico.menu=!1,e.ico.back=!0,e.ico.home=!1,e.ico.favorite=!1,e.ico.logut=!1,e.ico.label=!1,e.ico.sds=!1,e.goto="app/phrase/work/text",this.navService.setNavConfig(e)}addNew(){this.router.navigate(["/app/phrase/add/text"])}static{this.\u0275fac=function(n){return new(n||t)(s(A),s(G),s(I),s(q),s(z))}}static{this.\u0275cmp=w({type:t,selectors:[["app-show-text-phrase"]],standalone:!0,features:[k],decls:4,vars:3,consts:[[1,"list-container"],["diameter","36","mode","indeterminate",4,"ngIf"],["class","empty",4,"ngIf"],["diameter","36","mode","indeterminate"],["mat-fab","","color","primary",1,"fab-container",3,"click"],[1,"clickable-card",3,"click"],[1,"card-content"],[1,"phrase-text"],[1,"actions"],["mat-icon-button","","appLongPress","","aria-label","Eliminar",3,"appLongPress"],[2,"color","brown"],[1,"empty"]],template:function(n,i){n&1&&(o(0,"div",0),P(1,Z,1,0,"mat-progress-spinner",1)(2,te,6,0,"div")(3,ie,2,0,"div",2),l()),n&2&&(r(),_("ngIf",i.loading),r(),b(2,!i.loading&&i.phrases.length?2:-1),r(),_("ngIf",!i.loading&&i.phrases.length===0))},dependencies:[O,T,Y,$,L,B,E,D,j,V,N,F,J,H,Q],styles:['@charset "UTF-8";.empty[_ngcontent-%COMP%]{text-align:center;padding:24px;color:#0009}.clickable-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin:0!important;padding:0!important}.card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px;margin:0;padding:0;width:100%}.phrase-text[_ngcontent-%COMP%]{flex:1;white-space:normal;overflow:visible;text-overflow:unset;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;line-height:1.4;max-height:4.2em;margin-left:5px}.actions[_ngcontent-%COMP%]{flex-shrink:0;margin-top:2px}.fab-container[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;display:flex;z-index:100}.fab-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:12px;box-shadow:0 4px 12px #0000004d;transition:transform .3s ease,opacity .3s ease}.fab-container[_ngcontent-%COMP%]   .fab-action[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);animation:_ngcontent-%COMP%_slide-up .3s ease forwards}@keyframes _ngcontent-%COMP%_slide-up{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}']})}}return t})();export{Te as ShowTextPhraseComponent};
