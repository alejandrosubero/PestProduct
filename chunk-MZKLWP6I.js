import{a as V,b as q}from"./chunk-J7SAY5FS.js";import{a as G}from"./chunk-QB45CYLT.js";import{a as U}from"./chunk-PCJ7NPHM.js";import{a as Y}from"./chunk-6FCDGXAG.js";import"./chunk-JYKJOJ6J.js";import"./chunk-4JNPEXEF.js";import"./chunk-FYP6HQPU.js";import{a as F,b as I,e as N}from"./chunk-5ETXQJ6Z.js";import{f as W}from"./chunk-4SPE7LMF.js";import{c as j,i as B,j as L,l as K,m as A}from"./chunk-RPOOMM4R.js";import"./chunk-7GZRYZ3W.js";import"./chunk-CARY4E7O.js";import"./chunk-HEOXUAG5.js";import{b as T}from"./chunk-NMLM2UYX.js";import{c as k,d as y,f as P}from"./chunk-JVFQFS5Z.js";import{ma as D,na as R}from"./chunk-OUSHV2EZ.js";import{a as z,b as H}from"./chunk-NKIKHFFW.js";import{b as O,f as S,i as w,t as E}from"./chunk-ZQAR5GQS.js";import{$a as l,$b as M,Cb as a,Db as e,Lb as p,Tc as _,Vb as n,Wb as b,_a as m,_b as x,ac as C,cc as v,f as d,ja as u,oa as f,rb as h,yb as g}from"./chunk-BTT23VXK.js";function J(s,Q){s&1&&(a(0,"button",9)(1,"mat-icon"),n(2,"notes"),e(),n(3,"_Notes "),e(),a(4,"button",10)(5,"mat-icon"),n(6,"construction"),e(),n(7,"_Work"),e(),a(8,"button",11)(9,"mat-icon"),n(10,"view_list"),e(),n(11,"_Phrases"),e(),a(12,"button",12)(13,"mat-icon"),n(14,"add"),e(),n(15,"_Phrase"),e())}var _t=(()=>{class s{constructor(t,i,o,r,c){this.phraseService=t,this.db=i,this.snack=o,this.router=r,this.clipboard=c,this.textarea="",this.loading=!1,this.navService=u(H),this.title="Main Phrase",this.tempText="",this.isFabOpen=!1,this.setNav()}ngOnInit(){this.started()}toggleFab(){this.isFabOpen=!this.isFabOpen}started(){this.tempText=this.phraseService.getCurrentString(),this.tempText!=""&&(this.textarea=this.tempText)}generateIntoTextarea(){let t=this.phraseService.generateTxt();this.textarea=t,this.snack.open("Texto generado en el editor","OK",{duration:1200})}getOneComplete(){return d(this,null,function*(){this.loading=!0;try{let i=((yield this.db.getAllPhrase())??[]).filter(r=>r.isComplete===!0);if(!i.length){this.snack.open("No hay frases completas guardadas","OK",{duration:1500});return}let o=i[Math.floor(Math.random()*i.length)];this.textarea=o.phrase,this.snack.open("Frase completa cargada","OK",{duration:1200})}catch(t){console.error(t),this.snack.open("Error cargando frases completas","Cerrar",{duration:2e3})}finally{this.loading=!1}})}saveAsComplete(){return d(this,null,function*(){let t=(this.textarea??"").trim();if(!t){this.snack.open("There is no text to save","Cerrar",{duration:1500});return}try{let i={phrase:t,isComplete:!0,type:0};yield this.db.addPhrase(i),this.snack.open("Saved as a complete sentence","OK",{duration:1500})}catch(i){console.error(i),this.snack.open("Error saving","Cerrar",{duration:2e3})}})}navigate(t){this.router.navigate([t])}goHome(){this.navigate("app/home")}setNav(){this.navService.reSetNavConfig();let t=new z;t.title=this.title,t.ico.menu=!0,t.ico.back=!1,t.ico.home=!1,t.ico.favorite=!1,t.ico.logut=!1,t.ico.label=!1,t.ico.sds=!1,t.goto="app/phrase/main",this.navService.setNavConfig(t)}reset(){this.phraseService.resetCurrentString(),this.phraseService.resetList(),this.textarea="",this.tempText=""}copyClipboard(){try{this.clipboard.copy(this.textarea),this.snack.open("Text copied to clipboard","OK",{duration:1500})}catch{this.snack.open("Could not copy automatically. Please select and copy manually.","OK",{duration:2e3})}}copyPhrase(t){t&&navigator.clipboard?.writeText(t.phrase).then(()=>{this.snack.open("Copiado al portapapeles","OK",{duration:1200})}).catch(()=>{this.snack.open("No se pudo copiar","Cerrar",{duration:1500})})}static{this.\u0275fac=function(i){return new(i||s)(l(G),l(Y),l(U),l(k),l(V))}}static{this.\u0275cmp=f({type:s,selectors:[["app-main-phrase"]],standalone:!0,features:[v],decls:24,vars:3,consts:[[1,"container"],["appearance","outline",1,"full"],["matInput","","rows","8",3,"ngModelChange","ngModel"],[1,"fab-container"],["mat-fab","","color","primary","aria-label","Menu",3,"click"],[1,"nav-links"],["mat-raised-button","",1,"red-fab",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",1,"green-fab",3,"click"],["routerLink","/app/phrase/complete",1,"buto"],["routerLink","/app/phrase/work/text",1,"buto"],["routerLink","/app/phrase/show/text",1,"buto"],["routerLink","/app/phrase/add/text",1,"buto"]],template:function(i,o){i&1&&(a(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),n(3,"Editor:"),e(),a(4,"textarea",2),C("ngModelChange",function(c){return M(o.textarea,c)||(o.textarea=c),c}),e()(),a(5,"div",3)(6,"button",4),p("click",function(){return o.toggleFab()}),a(7,"mat-icon"),n(8),e()(),h(9,J,16,0),e()(),a(10,"div")(11,"div",5)(12,"button",6),p("click",function(){return o.reset()}),a(13,"mat-icon"),n(14,"shuffle"),e(),n(15,"Reset"),e(),a(16,"button",7),p("click",function(){return o.copyClipboard()}),a(17,"mat-icon"),n(18,"bolt"),e(),n(19," Copy"),e(),a(20,"button",8),p("click",function(){return o.saveAsComplete()}),a(21,"mat-icon"),n(22,"save_alt"),e(),n(23," Save"),e()()()),i&2&&(m(4),x("ngModel",o.textarea),m(4),b(o.isFabOpen?"close":"menu"),m(),g(9,o.isFabOpen?9:-1))},dependencies:[_,E,O,S,w,L,B,j,A,K,N,F,I,W,R,D,T,P,y,q],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.full[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.nav-links[_ngcontent-%COMP%]{margin-top:8px;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-evenly;gap:4px}.buto[_ngcontent-%COMP%]{margin:5px 8px 10px;background-color:#3f51b5;color:#fff;padding:.8rem 1.2rem;border:1px solid #303f9f;border-radius:8px;cursor:pointer;box-shadow:0 4px #303f9f;transition:transform .07s ease-in-out,box-shadow .07s ease-in-out;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none}.buto[_ngcontent-%COMP%]:hover{background-color:#303f9f}.buto[_ngcontent-%COMP%]:active{transform:translateY(4px);box-shadow:0 0 #303f9f;background-color:#303f9f}.buto[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:700}.fab-container[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;display:flex;flex-direction:column-reverse;align-items:flex-end;z-index:100}.fab-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:12px;box-shadow:0 4px 12px #0000004d;transition:transform .3s ease,opacity .3s ease}.fab-container[_ngcontent-%COMP%]   .fab-action[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);animation:_ngcontent-%COMP%_slide-up .3s ease forwards}@keyframes _ngcontent-%COMP%_slide-up{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.green-fab[_ngcontent-%COMP%]{background-color:#217724!important;color:#fff!important}.green-fab[_ngcontent-%COMP%]:hover{background-color:#43a047!important}.red-fab[_ngcontent-%COMP%]{background-color:#a91d13!important;color:#fff!important}.red-fab[_ngcontent-%COMP%]:hover{background-color:#d71e11!important}']})}}return s})();export{_t as MainPhraseComponent};
