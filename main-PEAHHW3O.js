import{a as Be}from"./chunk-JDZRI77W.js";import{a as Ue,b as We,c as qe,d as $e}from"./chunk-ZQJPGA2F.js";import"./chunk-ZFEEVNKO.js";import"./chunk-ETT73BSF.js";import"./chunk-3FDT7RON.js";import{a as L}from"./chunk-6RGKAR3H.js";import{a as Ze}from"./chunk-KOX46POY.js";import{a as je}from"./chunk-VWO26PSU.js";import{a as ze}from"./chunk-6L4LFCL3.js";import{c as Ve,e as He}from"./chunk-WVRGKLLC.js";import{a as De}from"./chunk-KLLYY3H4.js";import{e as Le,f as Ne}from"./chunk-HS3UH6NW.js";import{a as Qe}from"./chunk-CWPOOKQQ.js";import{a as ut}from"./chunk-VELYPUGP.js";import{a as Oe,b as Fe,c as Ee,d as pt}from"./chunk-JW4DLFIY.js";import{b as _e,c as Se,e as st}from"./chunk-GHBLUCIC.js";import{a as Ie,b as Te,c as ke,f as dt}from"./chunk-NY76DPOM.js";import{c as Me,f as ye,i as xe,l as Pe,m as mt}from"./chunk-BB6P6G7T.js";import{a as Ye}from"./chunk-G3LUHJHW.js";import"./chunk-TDRG7WWG.js";import{c as ct,d as N,e as W,g as P,h as wt,j as q,k as At,l as I}from"./chunk-CARY4E7O.js";import{b as Re,d as ht}from"./chunk-LELZTVYS.js";import"./chunk-PUEQNPSS.js";import{b as at}from"./chunk-EJRSTOA6.js";import{b as ue,c as B,e as fe}from"./chunk-WB3EYWFM.js";import{A as rt,B as x,G as ve,H as Ce,M as be,R as yt,S as xt,T as Pt,a as j,b as le,c as tt,d as de,e as pe,g as he,ja as we,ka as Ae,la as lt,r as ge}from"./chunk-FUN2273E.js";import{a as Ge,b as Xe}from"./chunk-VKZQFCKO.js";import{b as et,f as it,i as ot,t as nt}from"./chunk-6LBMZFPM.js";import{$a as qt,$b as D,Ab as te,Ba as Ht,Bb as c,Cb as m,Cc as K,Da as zt,Db as k,E as Dt,Ea as Ut,Ec as ae,F as z,Gc as se,H as jt,Hb as Y,Jb as ee,Ka as Wt,Kb as v,Kc as ce,L as X,Lb as ie,Lc as me,Mb as U,Qb as oe,Rb as ne,Rc as A,Sb as re,Tb as Z,Ub as d,Vb as J,Wb as Mt,Za as g,Zb as E,_a as l,_b as R,a as $,aa as Bt,b as Ft,bb as $t,bc as _,ca as w,da as Lt,db as Gt,fa as bt,fb as Xt,gb as Q,ha as S,ia as f,kb as Qt,l as Et,lb as Yt,na as b,oa as Nt,q as Rt,qa as Vt,qb as F,rb as Zt,sb as T,tb as Jt,v as G,va as M,wa as y,xa as _t,ya as St,zb as Kt}from"./chunk-3P7EKYVL.js";var p=(e,n)=>{let t=f(L),i=f(B);return t.isAuthenticated()?!0:i.createUrlTree(["/login"])};var ft=class{constructor(n="",t="",i=""){this.username=n,this.password=t,this.rol=i}};var Ke=(()=>{class e{constructor(t){this.http=t,this.configUrl="assets/config/config.json"}getListUser(){return this.http.get(this.configUrl).pipe(G(t=>t.map(i=>new ft(i.username,i.password,i.rol))),jt(t=>(console.error("Error loading config.json",t),Rt([]))))}static{this.\u0275fac=function(i){return new(i||e)(S(j))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function gi(e,n){if(e&1&&(c(0,"div",12),k(1,"br"),c(2,"div"),d(3),m()()),e&2){let t=U();g(3),J(t.errorMessage)}}var ti=(()=>{class e{constructor(t,i,o,r){this.router=t,this.authService=i,this.productService=o,this.userService=r,this.username="",this.password="",this.errorMessage="",this.technicalProductService=f(De),this.mixProductTechNoteService=f(je),this.userList=[],this.userService.getListUser().subscribe(s=>{s&&(this.userList=s)})}ngOnInit(){}login(){let t=this.findUserByCredentials();t?(this.chargeData(),this.authService.loginU(t.rol),this.router.navigate(["/app/home"])):this.errorMessage="Incorrect username or password"}chargeData(){this.productService.loadProducts(),this.technicalProductService.loadProducts(),this.mixProductTechNoteService.loadMixData()}findUserByCredentials(){let t=this.userList.find(i=>i.username===this.username&&i.password===this.password);return t||null}static{this.\u0275fac=function(i){return new(i||e)(l(B),l(L),l(ut),l(Ke))}}static{this.\u0275cmp=b({type:e,selectors:[["app-login"]],standalone:!0,features:[_],decls:18,vars:3,consts:[[1,"login-container"],[1,"form"],["id","heading"],[1,"field"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"input-icon"],["d","M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z"],["autocomplete","off","placeholder","Username","type","text",1,"input-field",3,"ngModelChange","ngModel"],["d","M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"],["placeholder","Password","type","password",1,"input-field",3,"ngModelChange","ngModel"],[1,"btn"],[3,"click"],["class","error",4,"ngIf"],[1,"error"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"div",1)(2,"p",2),d(3,"Login"),m(),c(4,"div",3),_t(),c(5,"svg",4),k(6,"path",5),m(),St(),c(7,"input",6),D("ngModelChange",function(s){return R(o.username,s)||(o.username=s),s}),m()(),c(8,"div",3),_t(),c(9,"svg",4),k(10,"path",7),m(),St(),c(11,"input",8),D("ngModelChange",function(s){return R(o.password,s)||(o.password=s),s}),m()(),c(12,"div",9)(13,"button",10),v("click",function(){return o.login()}),d(14," \xA0\xA0\xA0\xA0\xA0\xA0Login\xA0\xA0\xA0\xA0\xA0\xA0 "),m()(),F(15,gi,4,1,"div",11),k(16,"br")(17,"br"),m()()),i&2&&(g(7),E("ngModel",o.username),g(4),E("ngModel",o.password),g(4),T("ngIf",o.errorMessage))},dependencies:[A,me,tt,nt,et,it,ot,at,st,mt,lt,dt,pt,ht],styles:['@charset "UTF-8";.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#1a237e;padding:1rem}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;padding-left:2em;padding-right:2em;padding-bottom:.4em;background-color:#eceff1;border-radius:25px;transition:.4s ease-in-out}.form[_ngcontent-%COMP%]:hover{transform:scale(1.05);border:1px solid #cfd8dc}#heading[_ngcontent-%COMP%]{text-align:center;margin:2em;color:#263238;font-size:1.2em}.field[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5em;border-radius:25px;padding:.6em;border:none;outline:none;color:#263238;background-color:#cfd8dc;box-shadow:inset 2px 5px 10px #0000001a}.input-icon[_ngcontent-%COMP%]{height:1.3em;width:1.3em;fill:#263238}.input-field[_ngcontent-%COMP%]{background:none;border:none;outline:none;width:100%;height:40px;color:#263238}.form[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:row;margin-top:2.5em}.button1[_ngcontent-%COMP%]{padding:.5em 1.1em;border-radius:5px;margin-right:.5em;border:none;outline:none;transition:.4s ease-in-out;background-color:#3f51b5;color:#fff}.button1[_ngcontent-%COMP%]:hover{background-color:#2c3e98}.error[_ngcontent-%COMP%]{color:#c62828;text-align:center}button[_ngcontent-%COMP%]{font:inherit;background-color:#3f51b5;color:#fff;border:0;border-radius:.5em;font-size:1.35rem;padding:.375em 1em;font-weight:600;text-shadow:0 .0625em 0 rgba(0,0,0,.1);box-shadow:inset 0 .0625em #fff3,0 .0625em #0000001a,0 .125em #0000001a,0 .25em #0000001a,0 .3125em #0000001a,0 .375em #0000001a,0 .425em #0000001a,0 .425em .5em #0000001a;transition:.15s ease;cursor:pointer}button[_ngcontent-%COMP%]:active{translate:0 .225em;box-shadow:inset 0 .03em #ffffff1a,0 .03em #0000000d,0 .0625em #0000000d,0 .125em #0000000d,0 .125em #0000000d,0 .2em #0000000d,0 .225em #0000000d,0 .225em .375em #0000001a}']})}}return e})();function bi(e,n){}var _i={bottomSheetState:ct("state",[wt("void, hidden",P({transform:"translateY(100%)"})),wt("visible",P({transform:"translateY(0%)"})),q("visible => void, visible => hidden",W([N(`${xt.COMPLEX} ${yt.ACCELERATION_CURVE}`),I("@*",At(),{optional:!0})])),q("void => visible",W([N(`${xt.EXITING} ${yt.DECELERATION_CURVE}`),I("@*",At(),{optional:!0})]))])},Si=(()=>{class e extends We{constructor(t,i,o,r,s,a,h,u,C){super(t,i,o,r,s,a,h,C),this._animationState="void",this._animationStateChanged=new Ut,this._breakpointSubscription=u.observe([x.Medium,x.Large,x.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",u.isMatched(x.Medium)),this._toggleClass("mat-bottom-sheet-container-large",u.isMatched(x.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",u.isMatched(x.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){t.toState==="visible"&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,i){this._elementRef.nativeElement.classList.toggle(t,i)}static{this.\u0275fac=function(i){return new(i||e)(l(zt),l(Ce),l(K,8),l(Ue),l(ve),l(Q),l(Ve),l(rt),l(be))}}static{this.\u0275cmp=b({type:e,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(i,o){i&1&&ie("@state.start",function(s){return o._onAnimationStart(s)})("@state.done",function(s){return o._onAnimationDone(s)}),i&2&&(ee("@state",o._animationState),Zt("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-label",o._config.ariaLabel))},standalone:!0,features:[Yt,_],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,o){i&1&&F(0,bi,0,0,"ng-template",0)},dependencies:[Le],styles:[".mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[_i.bottomSheetState]}})}}return e})(),Mi=new bt("MatBottomSheetData"),It=class{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}},V=class{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(n,t,i){this._ref=n,this._afterOpened=new Et,this.containerInstance=i,this.disableClose=t.disableClose,i._animationStateChanged.pipe(z(o=>o.phaseName==="done"&&o.toState==="visible"),X(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(z(o=>o.phaseName==="done"&&o.toState==="hidden"),X(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),n.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),Dt(this.backdropClick(),this.keydownEvents().pipe(z(o=>o.keyCode===27))).subscribe(o=>{!this.disableClose&&(o.type!=="keydown"||!ge(o))&&(o.preventDefault(),this.dismiss())})}dismiss(n){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(z(t=>t.phaseName==="start"),X(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=n,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},yi=new bt("mat-bottom-sheet-default-options"),Tt=(()=>{class e{get _openedBottomSheetRef(){let t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,i,o,r){this._overlay=t,this._parentBottomSheet=o,this._defaultOptions=r,this._bottomSheetRefAtThisLevel=null,this._dialog=i.get(qe)}open(t,i){let o=$($({},this._defaultOptions||new It),i),r;return this._dialog.open(t,Ft($({},o),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:Si,scrollStrategy:o.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:r}),providers:(s,a,h)=>(r=new V(s,o,h),[{provide:V,useValue:r},{provide:Mi,useValue:o.data}])})),r.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===r&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>r.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):r.containerInstance.enter(),this._openedBottomSheetRef=r,r}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static{this.\u0275fac=function(i){return new(i||e)(S(He),S(Ht),S(e,12),S(yi,8))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gt=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=Nt({type:e})}static{this.\u0275inj=Lt({providers:[Tt],imports:[$e,Pt,Ne,Pt]})}}return e})();var ii=(()=>{class e{constructor(t){this.bottomSheetRef=t}close(){this.bottomSheetRef.dismiss()}static{this.\u0275fac=function(i){return new(i||e)(l(V))}}static{this.\u0275cmp=b({type:e,selectors:[["app-search-info-sheet"]],standalone:!0,features:[_],decls:19,vars:0,consts:[[1,"sheet-container"],[1,"actions"],["mat-stroked-button","",3,"click"]],template:function(i,o){i&1&&(c(0,"div",0)(1,"h3"),d(2,"Search Information"),m(),c(3,"ul")(4,"li")(5,"strong"),d(6,"*"),m(),d(7," followed by a word searches by active ingredient."),m(),c(8,"li")(9,"strong"),d(10,"&"),m(),d(11," followed by a word searches by product name."),m(),c(12,"li")(13,"strong"),d(14,"-"),m(),d(15," between two words (e.g., ant-granular) filters results."),m()(),c(16,"div",1)(17,"button",2),v("click",function(){return o.close()}),d(18,"Close"),m()()())},dependencies:[A,gt],styles:[".sheet-container[_ngcontent-%COMP%]{padding:16px;font-size:16px}h3[_ngcontent-%COMP%]{margin-top:0;font-size:18px;text-align:center}ul[_ngcontent-%COMP%]{list-style-type:disc;padding-left:20px}li[_ngcontent-%COMP%]{margin-bottom:10px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px}"]})}}return e})();var vt=(()=>{class e{constructor(t){this.http=t,this.jsonUrl="assets/config/pests_List.json",this.pestsSignal=Qt([])}loadPests(){this.http.get(this.jsonUrl).pipe(G(t=>t.pests)).subscribe({next:t=>this.pestsSignal.set(t),error:t=>{console.error("Error cargando plagas:",t),this.pestsSignal.set([])}})}getPests(){return this.pestsSignal.asReadonly()}static{this.\u0275fac=function(i){return new(i||e)(S(j))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var xi=["sidenav"],Pi=(e,n)=>n.name;function wi(e,n){if(e&1){let t=Y();c(0,"mat-list-item",12),v("click",function(){let o=M(t).$implicit,r=U();return y(r.seleccionarPest(o))}),d(1),m()}if(e&2){let t=n.$implicit;g(),Mt(" ",t,`
`)}}function Ai(e,n){if(e&1){let t=Y();c(0,"mat-card",13),v("click",function(){let o=M(t).$implicit,r=U();return y(r.goToDetail(o.id))}),c(1,"mat-card-title"),d(2),m(),c(3,"mat-card-content")(4,"p")(5,"strong"),d(6,"Active Ingredient:"),m(),d(7),m()()()}if(e&2){let t=n.$implicit;g(2),J(t.name),g(5),Mt(" ",t.activeIngredients,"")}}var oi=(()=>{class e{constructor(t,i,o,r,s,a,h,u,C,H){this.http=t,this.router=i,this.authService=o,this.breakpointObserver=r,this.productService=s,this.favService=a,this.navegateService=h,this.bottomSheet=u,this.domSanitizer=C,this.matIconRegistry=H,this.allProducts=[],this.filteredProducts=[],this.uniquePests=[],this.filteredPests=[],this.searchPest="",this.searchTerm="",this.version="v3.0.1",this.configUrl="assets/config/products.json",this.errorMessage="",this.isWideScreen=!0,this.pestName="",this.isFavoriteView=!1,this.favorites=[],this.productStoreService=f(Be),this.navService=f(Xe),this.pestsService=f(vt),this.opened=!1,this.matIconRegistry.addSvgIcon("tecnnical",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/tecnnical.svg")),this.setNav()}toggleSidenav(t){t.toggle()}ngOnInit(){this.breakpointObserver.observe([x.Handset]).subscribe(o=>{this.isWideScreen=!o.matches});let i=this.productService.products().sort((o,r)=>o.name.localeCompare(r.name));this.allProducts=i,this.filteredProducts=i,this.uniquePests=this.pestsService.getPests()(),this.uniquePests!==void 0&&this.uniquePests!==null&&this.uniquePests.length>0&&(this.filteredPests=this.uniquePests),this.checkFavorites(),this.productStoreService.loadAll()}setNav(){this.checkFavorites();let t=new Ge;t.title="Pest products",t.ico.menu=!0,t.ico.favorite=!0,t.ico.logut=!0,this.isFavoriteView&&(t.favorite.active=this.isFavoriteView),t.favorite.url="favorites",this.navService.setNavConfig(t)}openSearchInfo(){this.bottomSheet.open(ii)}checkFavorites(){this.favorites=this.favService.getFavorites(),this.favorites!=null&&this.favorites!=null&&this.favorites.length>0&&(this.isFavoriteView=!0)}getUniquePests(t){let i=new Set;for(let o of t)o.pestsControlled.forEach(r=>i.add(r));this.uniquePests=Array.from(i)}getPestName(t){let i=r=>r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),o=i(t);for(let r of this.filteredProducts)for(let s of r.pestsControlled)if(i(s).includes(o))return s;return""}getPestToGo(t,i){let o=this.filteredProducts.find(a=>a.id===i);if(!o)return"";let r=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),s=r(t);for(let a of o.pestsControlled)if(r(a).includes(s))return a;return""}buscarCoincidencias(){let t=this.searchTerm.trim().toLowerCase(),i=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),o=a=>{let h=i(a.name),u=i(a.applicationTreatment),C=i(a.pestsControlled.join(" "));return`${h} ${u} ${C}`},r=a=>`${i(a.name)}`,s=a=>{let h=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`\\b${h}\\b`,"i")};if(t.startsWith("*")){let a=i(t.slice(1).trim());a.length>=2?this.filteredProducts=this.allProducts.filter(h=>i(h.activeIngredients||"").includes(a)):this.filteredProducts=[]}else if(t.includes("&")){let a=i(t.split("&")[1]?.trim()||"");a.length>=2?this.filteredProducts=this.allProducts.filter(h=>r(h).includes(a)):this.filteredProducts=[]}else if(t.includes("-")){let a="",h="",[u,C]=t.split("-").map(Ct=>i(Ct.trim()));a=u,h=C;let H=s(u),mi=s(C);this.filteredProducts=this.allProducts.filter(Ct=>{let Ot=o(Ct);return H.test(Ot)&&mi.test(Ot)}),this.pestName=this.getPestName(h),this.pestName===""&&(this.pestName=this.getPestName(a))}else{let h=i(t).split(/\s+/).join(" ").trim(),u=s(h);this.filteredProducts=this.allProducts.filter(C=>{let H=o(C);return u.test(H)}),this.pestName=this.getPestName(t)}}seleccionarPest(t){this.opened=!1,this.searchTerm=t,this.buscarCoincidencias(),this.pestName=t,this.sidenav&&this.sidenav.close()}goToDetail(t){let i=this.getPestToGo(this.pestName,t);this.navegateService.goToDetail("app/product",t,i)}goFavorites(){this.navegateService.goFavorites("favorites",1)}goTecnnical(){this.navigate("technical/notes")}goCompareTecnnical(){this.navigate("technical/notes/compare")}goAbout(){this.navigate("about")}goMix(){this.navigate("technical/notes/mix")}navigate(t){this.router.navigate([t])}logout(){this.authService.logout(),this.router.navigate(["/login"])}onSearchChange(){if(this.searchPest.length<2){this.filteredPests=[...this.uniquePests];return}let t=this.searchPest.toLowerCase();this.filteredPests=this.uniquePests.filter(i=>i.toLowerCase().includes(t))}static{this.\u0275fac=function(i){return new(i||e)(l(j),l(B),l(L),l(rt),l(ut),l(Qe),l(Ye),l(Tt),l(he),l(we))}}static{this.\u0275cmp=b({type:e,selectors:[["app-home"]],viewQuery:function(i,o){if(i&1&&oe(xi,7),i&2){let r;ne(r=re())&&(o.sidenav=r.first)}},standalone:!0,features:[_],decls:25,vars:6,consts:[["sidenav",""],[1,"sidenav-container"],["mode","over","position","end",3,"opened"],[2,"margin","16px"],["appearance","fill",1,"search-box"],["matInput","",3,"ngModelChange","input","ngModel"],[3,"click",4,"ngFor","ngForOf"],[1,"content"],["mat-icon-button","","matSuffix","","aria-label","Search Information",3,"click"],[1,"results"],[1,"clickable-card"],["mat-fab","","color","primary",1,"fab-button",3,"click"],[3,"click"],[1,"clickable-card",3,"click"]],template:function(i,o){if(i&1){let r=Y();c(0,"mat-sidenav-container",1)(1,"mat-sidenav",2,0)(3,"h3",3),d(4,"Select Pests:"),m(),c(5,"mat-form-field",4)(6,"mat-label"),d(7,"Search Pest"),m(),c(8,"input",5),D("ngModelChange",function(a){return M(r),R(o.searchPest,a)||(o.searchPest=a),y(a)}),v("input",function(){return M(r),y(o.onSearchChange())}),m()(),F(9,wi,2,1,"mat-list-item",6),m(),c(10,"mat-sidenav-content")(11,"div",7)(12,"mat-form-field",4)(13,"mat-label"),d(14,"Search for product or pest"),m(),c(15,"input",5),D("ngModelChange",function(a){return M(r),R(o.searchTerm,a)||(o.searchTerm=a),y(a)}),v("input",function(){return M(r),y(o.buscarCoincidencias())}),m(),c(16,"button",8),v("click",function(){return M(r),y(o.openSearchInfo())}),c(17,"mat-icon"),d(18,"info"),m()()(),c(19,"div",9),Kt(20,Ai,8,2,"mat-card",10,Pi),m(),c(22,"button",11),v("click",function(){M(r);let a=Z(2);return y(a.toggle())}),c(23,"mat-icon"),d(24,"bug_report"),m()()()()()}i&2&&(g(),Jt("width",200,"px"),T("opened",!1),g(7),E("ngModel",o.searchPest),g(),T("ngForOf",o.filteredPests),g(6),E("ngModel",o.searchTerm),g(5),te(o.filteredProducts))},dependencies:[A,ce,tt,nt,et,it,ot,at,st,Se,_e,mt,Pe,xe,Me,ye,lt,Ae,dt,Ie,ke,Te,pt,Fe,Ee,Oe,ze,gt,ht,Re],styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{height:100vh}.sidenav[_ngcontent-%COMP%]{width:200px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.content[_ngcontent-%COMP%]{padding:1rem}.content[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:1rem auto;display:block}.content[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem}.footer[_ngcontent-%COMP%]{text-align:center;padding:1rem;background-color:#eee;font-size:.9rem}.clickable-card[_ngcontent-%COMP%]{padding:1rem;cursor:pointer;transition:transform .2s}.clickable-card[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.mat-icon.star-active[_ngcontent-%COMP%]{color:gold}.buto[_ngcontent-%COMP%]{margin-top:5px;margin-left:2px;margin-right:2px;background-color:#f0f0f0;color:#333;padding:.8rem 1.2rem;border:1px solid #b0b0b0;border-radius:8px;cursor:pointer;box-shadow:0 4px silver;transition:transform .07s ease-in-out,box-shadow .07s ease-in-out;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none}.buto[_ngcontent-%COMP%]:hover{background-color:#f8f8f8}.buto[_ngcontent-%COMP%]:active{transform:translateY(4px);box-shadow:0 0 silver;background-color:#e9e9e9}.buto[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:700}.boxButton[_ngcontent-%COMP%]{padding:5px 5px 10px;border-radius:0;background:linear-gradient(225deg,#d4d4d4,#fbfbfb);box-shadow:-9px 9px 16px #b3b3b3,9px -9px 16px #fff}.sidenav-container[_ngcontent-%COMP%]{height:100vh}.content[_ngcontent-%COMP%]{position:relative;padding:16px}.fab-btn[_ngcontent-%COMP%]{position:fixed;bottom:60px;right:16px;z-index:2000}.fab-button[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:1000;box-shadow:0 4px 10px #0000004d;transition:transform .2s ease-in-out}.fab-button[_ngcontent-%COMP%]:active{transform:scale(.95)}']})}}return e})();var ni=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:ti},{path:"app",loadComponent:()=>import("./chunk-J3N6PF4T.js").then(e=>e.LayoutComponent),data:{animation:"pro"},canActivate:[p],children:[{path:"home",component:oi,data:{animation:"HomePage"},canActivate:[p]},{path:"about",loadComponent:()=>import("./chunk-U2WGQJQ7.js").then(e=>e.AboutComponent),data:{animation:"pro"},canActivate:[p]},{path:"technical/notes/compare",loadComponent:()=>import("./chunk-3BVUXJBE.js").then(e=>e.CompareProductsComponent),data:{animation:"pro"},canActivate:[p]},{path:"technical/notes/mix",loadComponent:()=>import("./chunk-K2SBDU63.js").then(e=>e.MixTechnicalNotesComponent),data:{animation:"pro"},canActivate:[p]},{path:"technical/notes",loadComponent:()=>import("./chunk-SNQXQKGC.js").then(e=>e.TechnicalNotesListComponent),data:{animation:"technicalnotes"},canActivate:[p]},{path:"technical/notes/:id",loadComponent:()=>import("./chunk-INYMBJQY.js").then(e=>e.TechnicalNotesComponent),canActivate:[p]},{path:"product/:id",loadComponent:()=>import("./chunk-54HTC7DQ.js").then(e=>e.ProductDetailComponent),canActivate:[p]},{path:"favorites/:id",loadComponent:()=>import("./chunk-WOBYEUBJ.js").then(e=>e.FavoritesComponent),data:{animation:"FavoritesPage"},canActivate:[p]},{path:"formulations",loadComponent:()=>import("./chunk-LN3OXZJE.js").then(e=>e.FormulationsListComponent),data:{animation:"FormulationPage"},canActivate:[p]},{path:"formulation/add",loadComponent:()=>import("./chunk-TZXV2C4A.js").then(e=>e.FormulationAddComponent),data:{animation:"FormulationPage"},canActivate:[p]},{path:"formulation/:id",loadComponent:()=>import("./chunk-YVASQXUB.js").then(e=>e.FormulationDetailComponent),data:{animation:"FormulationPage"},canActivate:[p]},{path:"formulation/edit/:id",loadComponent:()=>import("./chunk-ZYG4VTJD.js").then(e=>e.FormulationEditComponent),data:{animation:"FormulationPage"},canActivate:[p]},{path:"lab/test/jar",loadComponent:()=>import("./chunk-BDFLDFJK.js").then(e=>e.JarTestTableComponent),data:{animation:"lab"},canActivate:[p]},{path:"lab/field",loadComponent:()=>import("./chunk-2PKG67PZ.js").then(e=>e.FieldCardComponent),data:{animation:"lab"},canActivate:[p]},{path:"lab/unit/converter",loadComponent:()=>import("./chunk-RT7TPEQE.js").then(e=>e.UnitConverterComponent),data:{animation:"lab"},canActivate:[p]},{path:"lab/test/checklist",loadComponent:()=>import("./chunk-EP7QHI7C.js").then(e=>e.TankMixChecklistComponent),data:{animation:"lab"},canActivate:[p]},{path:"backup",loadComponent:()=>import("./chunk-GUGN5TGP.js").then(e=>e.BackupComponent),data:{animation:"lab"},canActivate:[p]},{path:"storage",canActivate:[p],children:[{path:"products",loadComponent:()=>import("./chunk-6QZ5OGJC.js").then(e=>e.ProductListComponent),data:{animation:"StoragePage"}},{path:"products/detail/:id",loadComponent:()=>import("./chunk-XZNOC75Z.js").then(e=>e.StorageProductDetailComponent),data:{animation:"StoragePage"}},{path:"products/edit/:id",loadComponent:()=>import("./chunk-LHLDF2HN.js").then(e=>e.EditProductComponent),data:{animation:"StoragePage"}},{path:"products/register/use",loadComponent:()=>import("./chunk-MXEWO6QU.js").then(e=>e.RegisterProductUsageComponent),data:{animation:"StoragePage"}},{path:"products/add/new",loadComponent:()=>import("./chunk-MQO4K7ZO.js").then(e=>e.AddProductComponent),data:{animation:"StoragePage"}},{path:"products/add/nemu",loadComponent:()=>import("./chunk-LFO622NR.js").then(e=>e.AddMenueComponent),data:{animation:"StoragePage"}},{path:"products/add/product",loadComponent:()=>import("./chunk-ND2VILNG.js").then(e=>e.AdditionProducComponent),data:{animation:"StoragePage"}},{path:"products/add/product/:id",loadComponent:()=>import("./chunk-ND2VILNG.js").then(e=>e.AdditionProducComponent),data:{animation:"StoragePage"}}]},{path:"phrase",canActivate:[p],children:[{path:"main",loadComponent:()=>import("./chunk-B6AWK5GM.js").then(e=>e.MainPhraseComponent),data:{animation:"phrase"}},{path:"add/text",loadComponent:()=>import("./chunk-YKKYPPD6.js").then(e=>e.AddTextPhraseComponent),data:{animation:"phrase"}},{path:"show/text",loadComponent:()=>import("./chunk-HIPS5B76.js").then(e=>e.ShowTextPhraseComponent),data:{animation:"phrase"}},{path:"work/text",loadComponent:()=>import("./chunk-72AWN6BR.js").then(e=>e.WorkTextPhraseComponent),data:{animation:"phrase"}},{path:"complete",loadComponent:()=>import("./chunk-5M6XLGRN.js").then(e=>e.CompletePhraseComponent),data:{animation:"phrase"}}]}]},{path:"**",redirectTo:"/login"}];var Ii="@",Ti=(()=>{class e{constructor(t,i,o,r,s){this.doc=t,this.delegate=i,this.zone=o,this.animationType=r,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=f($t,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-SQIFHUD4.js")).catch(i=>{throw new Bt(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc,this.scheduler);let r=new o(this.delegate,this._engine,this.zone);return this.delegate=r,r})}createRenderer(t,i){let o=this.delegate.createRenderer(t,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let r=new kt(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(t,i);r.use(a)}).catch(s=>{r.use(o)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){qt()}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac})}}return e})(),kt=class{constructor(n){this.delegate=n,this.replay=[],this.\u0275type=1}use(n){if(this.delegate=n,this.replay!==null){for(let t of this.replay)t(n);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}get destroyNode(){return this.delegate.destroyNode}appendChild(n,t){this.delegate.appendChild(n,t)}insertBefore(n,t,i,o){this.delegate.insertBefore(n,t,i,o)}removeChild(n,t,i){this.delegate.removeChild(n,t,i)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,i,o){this.delegate.setAttribute(n,t,i,o)}removeAttribute(n,t,i){this.delegate.removeAttribute(n,t,i)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,i,o){this.delegate.setStyle(n,t,i,o)}removeStyle(n,t,i){this.delegate.removeStyle(n,t,i)}setProperty(n,t,i){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(n,t,i)),this.delegate.setProperty(n,t,i)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,i){return this.shouldReplay(t)&&this.replay.push(o=>o.listen(n,t,i)),this.delegate.listen(n,t,i)}shouldReplay(n){return this.replay!==null&&n.startsWith(Ii)}};function ri(e="animations"){return Xt("NgAsyncAnimations"),Vt([{provide:Gt,useFactory:(n,t,i)=>new Ti(n,t,i,e),deps:[K,de,Q]},{provide:Wt,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ai={providers:[fe(ni),ri(),le(),{provide:ae,useClass:se}]};var si=ct("routeAnimations",[q("* <=> *",[P({position:"relative"}),I(":enter, :leave",[P({position:"absolute",width:"100%",opacity:0})],{optional:!0}),I(":enter",[P({opacity:0})],{optional:!0}),W([I(":leave",[N("200ms ease-out",P({opacity:0}))],{optional:!0}),I(":enter",[N("200ms ease-in",P({opacity:1}))],{optional:!0})])])]);var ci=(()=>{class e{constructor(){this.title="referent-product-pest",this.versionService=f(Ze),this.pestsService=f(vt)}ngOnInit(){this.versionService.initVersionCheck(!1),this.pestsService.loadPests(),this.versionService.initVersionCheck(!0)}getAnimationState(t){return t&&t.activatedRouteData&&t.activatedRouteData.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=b({type:e,selectors:[["app-root"]],standalone:!0,features:[_],decls:3,vars:1,consts:[["outlet","outlet"]],template:function(i,o){if(i&1&&(c(0,"main"),k(1,"router-outlet",null,0),m()),i&2){let r=Z(2);T("@routeAnimations",o.getAnimationState(r))}},dependencies:[A,ue],data:{animation:[si]}})}}return e})();pe(ci,ai).catch(e=>console.error(e));
