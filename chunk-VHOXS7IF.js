import{a as Q}from"./chunk-BKTNEFLF.js";import{a as V}from"./chunk-BAC247KU.js";import{d as J,g as K}from"./chunk-EIU5E3HU.js";import"./chunk-DTBVBDW5.js";import{a as U,b as z,c as $,d as q,f as G}from"./chunk-BQIAFBQH.js";import{E as L,q as w,s as E,t as j}from"./chunk-F4KKBD6I.js";import{a as T,c as y,ea as N,f as k,ga as B,h as O,ha as A,ia as R,ja as H,ka as W}from"./chunk-6QGYQCVO.js";import"./chunk-CARY4E7O.js";import{Db as u,Ec as I,Fb as v,Nb as s,Ob as f,Pb as m,Ua as r,Va as c,Wb as S,Xb as x,Yb as P,ja as h,kb as g,mb as p,rb as C,sb as M,tb as _,ub as b,vb as i,wb as o,wc as D,xb as F}from"./chunk-SYRJLQDL.js";var Z=(e,l)=>({add:e,remove:l}),tt=e=>({highlight:e});function et(e,l){if(e&1&&(i(0,"li",4),s(1),o()),e&2){let t=l.$implicit,a=v(2);p("ngClass",x(2,tt,t.toLowerCase()===a.pestData.name.toLowerCase())),r(),m(" ",t," ")}}function it(e,l){if(e&1&&(i(0,"mat-card-title"),s(1),o(),i(2,"mat-card-subtitle"),s(3),o(),i(4,"mat-card-content")(5,"p")(6,"strong"),s(7,"Application/Treatment:"),o()(),i(8,"p"),s(9),o(),i(10,"p")(11,"strong"),s(12,"Pests Controlled:"),o()(),i(13,"ul"),_(14,et,2,4,"li",4,M),o()()),e&2){let t=v();r(),f(t.product.name),r(2),m(" Active Ingredient: ",t.product.activeIngredients," "),r(6),f(t.product.applicationTreatment),r(5),b(t.product.pestsControlled)}}var xt=(()=>{class e{constructor(t,a,n,d,X,Y){this.route=t,this.router=a,this.http=n,this.favService=d,this.productService=X,this.navegateService=Y,this.product=null,this.isFav=!1,this.pestData={id:0,name:""},this.id=0,this.configUrl="assets/config/products.json",this.nameToNavegate="",this.getData()}getData(){let t=this.router.getCurrentNavigation();this.pestData=t?.extras?.state?.data||history.state.data||null,this.pestData?(this.id=this.pestData.id,this.nameToNavegate=this.pestData.name!=null&&this.pestData.name!=null?this.pestData.name:""):console.warn("No pestData passed, fetching by ID or redirecting...")}ngOnInit(){let t=this.productService.products();t!=null&&t!=null&&t.length>0&&this.checkProduct(t,this.id)}checkProduct(t,a){this.product=t.find(n=>n.id===a),this.product?this.isFav=this.favService.isFavorite(this.id):this.router.navigate(["/home"])}back(){this.nameToNavegate==="favorites"?this.goFavorites():this.router.navigate(["/home"])}toggleFavorite(){this.isFav?this.favService.removeFromFavorites(this.product.id):this.favService.addToFavorites(this.product),this.isFav=!this.isFav}goFavorites(){this.navegateService.goFavorites("favorites",1)}static{this.\u0275fac=function(a){return new(a||e)(c(k),c(O),c(T),c(V),c(Q),c(W))}}static{this.\u0275cmp=h({type:e,selectors:[["app-product-detail"]],standalone:!0,features:[S],decls:9,vars:6,consts:[["color","primary",1,"toolbar","mobile-toolbar"],["mat-icon-button","","aria-label","Back",3,"click"],[1,"spacer"],["mat-button","",1,"fav-button",3,"click","ngClass"],[3,"ngClass"]],template:function(a,n){a&1&&(i(0,"mat-toolbar",0)(1,"button",1),u("click",function(){return n.back()}),i(2,"mat-icon"),s(3,"arrow_back"),o()(),F(4,"span",2),i(5,"button",3),u("click",function(){return n.toggleFavorite()}),s(6),o()(),i(7,"mat-card"),g(8,it,16,3),o()),a&2&&(r(5),p("ngClass",P(3,Z,!n.isFav,n.isFav)),r(),m(" ",n.isFav?"Remove from favorites":"Add to favorites"," "),r(2),C(8,n.product?8:-1))},dependencies:[I,D,y,w,j,E,A,N,B,L,H,R,G,U,$,q,z,J,K],styles:['@charset "UTF-8";mat-card[_ngcontent-%COMP%]{width:90%;max-width:600px;margin:2rem auto;padding:1rem}mat-card-title[_ngcontent-%COMP%]{font-size:1.5rem}mat-card-subtitle[_ngcontent-%COMP%]{margin-bottom:1rem}ul[_ngcontent-%COMP%]{padding-left:1.2rem;list-style-type:disc}button[_ngcontent-%COMP%]{margin-top:1rem}.highlight[_ngcontent-%COMP%]{color:#00f;font-weight:700}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 8px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.fav-button[_ngcontent-%COMP%]{background:transparent!important;font-weight:500;text-transform:none}.fav-button.add[_ngcontent-%COMP%], .fav-button.remove[_ngcontent-%COMP%]{color:#fff}']})}}return e})();export{xt as ProductDetailComponent};
