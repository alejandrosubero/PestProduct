import{a as U,b as X}from"./chunk-MYIRG6YE.js";import{a as Q}from"./chunk-K3BNIXJ3.js";import{a as J}from"./chunk-ZSK56BZL.js";import"./chunk-53KECMHQ.js";import"./chunk-O6ZGCYQU.js";import"./chunk-L2CEHP2K.js";import{a as B,e as O}from"./chunk-N5FOZFUG.js";import{a as G,f as H}from"./chunk-UCH6ZMQM.js";import{a as z,b as D,c as L,i as j,j as N,l as W,m as K}from"./chunk-P4PHYZLP.js";import"./chunk-KXJZ4KRG.js";import"./chunk-CARY4E7O.js";import"./chunk-GCRZXU3H.js";import{a as E,b as V}from"./chunk-4NA7GYT4.js";import{c as P}from"./chunk-T4WKOVX3.js";import{ka as R,la as q}from"./chunk-4NVBDXTK.js";import{b as S,f as A,i as I,t as F}from"./chunk-MTHBGCRI.js";import{$b as T,Bb as r,Cb as i,Db as _,Hb as C,Kb as f,Lc as b,Rc as k,Ub as n,Za as d,Zb as v,_a as l,_b as y,bc as w,f as M,na as h,qb as x,sb as u,va as s,wa as m}from"./chunk-7EUIRZQQ.js";function Y(a,Z){a&1&&_(0,"mat-progress-spinner",10)}var Te=(()=>{class a{constructor(o,t,e){this.db=o,this.router=t,this.snack=e,this.text="",this.saving=!1}save(){return M(this,null,function*(){let o=this.text?.trim()??"";if(!o){this.snack.open("La frase no puede estar vac\xEDa","Cerrar",{duration:2e3});return}this.saving=!0;let t={phrase:o,isComplete:!1};try{yield this.db.addPhrase(t),this.snack.open("Frase guardada correctamente","OK",{duration:2e3}),this.router.navigate(["/show-text-phrase"])}catch(e){console.error(e),this.snack.open("Error guardando la frase: "+(e?.message??e),"Cerrar",{duration:3e3})}finally{this.saving=!1}})}static{this.\u0275fac=function(t){return new(t||a)(l(J),l(P),l(Q))}}static{this.\u0275cmp=h({type:a,selectors:[["app-add-text-phrase"]],standalone:!0,features:[w],decls:17,vars:3,consts:[["autosize","cdkTextareaAutosize"],[1,"container"],["color","primary"],[1,"content"],["appearance","outline",1,"full"],["matInput","","rows","6","cdkTextareaAutosize","",3,"ngModelChange","ngModel"],[1,"actions"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-button","",3,"click"],["mode","indeterminate","diameter","36",4,"ngIf"],["mode","indeterminate","diameter","36"]],template:function(t,e){if(t&1){let p=C();r(0,"mat-card",1)(1,"mat-toolbar",2),n(2,"Agregar frase"),i(),r(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),n(6,"Frase"),i(),r(7,"textarea",5,0),T("ngModelChange",function(c){return s(p),y(e.text,c)||(e.text=c),m(c)}),i()(),r(9,"div",6)(10,"button",7),f("click",function(){return s(p),m(e.save())}),r(11,"mat-icon"),n(12,"save"),i(),n(13," Agregar "),i(),r(14,"button",8),f("click",function(){return s(p),m(e.text="")}),n(15,"Limpiar"),i()()(),x(16,Y,1,0,"mat-progress-spinner",9),i()}t&2&&(d(7),v("ngModel",e.text),d(3),u("disabled",e.saving),d(6),u("ngIf",e.saving))},dependencies:[k,b,F,S,A,I,D,z,N,j,L,K,W,O,B,H,G,q,R,V,E,X,U],styles:[".container[_ngcontent-%COMP%]{max-width:900px;margin:16px auto;padding:12px}.full[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}"]})}}return a})();export{Te as AddTextPhraseComponent};
