import{a as K,b as q}from"./chunk-MYIRG6YE.js";import{a as A}from"./chunk-MVR2SBDL.js";import{a as R}from"./chunk-K3BNIXJ3.js";import{a as $}from"./chunk-ZSK56BZL.js";import"./chunk-53KECMHQ.js";import"./chunk-O6ZGCYQU.js";import"./chunk-L2CEHP2K.js";import{c as O,e as E}from"./chunk-N5FOZFUG.js";import{a as V,f as B}from"./chunk-UCH6ZMQM.js";import"./chunk-KXJZ4KRG.js";import"./chunk-CARY4E7O.js";import{a as N,b as D,d as L}from"./chunk-6J673JO5.js";import"./chunk-GCRZXU3H.js";import{a as b,b as T}from"./chunk-4NA7GYT4.js";import{c as w,f as k}from"./chunk-T4WKOVX3.js";import{ka as F,la as j}from"./chunk-4NVBDXTK.js";import"./chunk-MTHBGCRI.js";import{Bb as o,Cb as n,Db as x,Hb as M,Kb as u,Kc as P,Lc as I,Mb as d,Rc as S,Ub as l,Vb as v,Za as a,_a as m,bc as y,f as g,na as C,qb as _,sb as p,va as f,wa as h}from"./chunk-7EUIRZQQ.js";function z(t,c){t&1&&x(0,"mat-progress-spinner",5)}function G(t,c){if(t&1){let e=M();o(0,"mat-list-item")(1,"mat-card",7)(2,"div",8),u("click",function(){let i=f(e).$implicit,s=d(2);return h(s.selectPhrase(i))}),l(3),n(),o(4,"div",9)(5,"button",10),u("click",function(){let i=f(e).$implicit,s=d(2);return h(s.copyPhrase(i))}),o(6,"mat-icon"),l(7,"content_copy"),n()()()()()}if(t&2){let e=c.$implicit;a(3),v(e.phrase)}}function H(t,c){if(t&1&&(o(0,"mat-list"),_(1,G,8,1,"mat-list-item",6),n()),t&2){let e=d();a(),p("ngForOf",e.phrases)}}function J(t,c){t&1&&(o(0,"div",11),l(1,"No hay frases completas."),n())}var he=(()=>{class t{constructor(e,r,i,s){this.db=e,this.phraseService=r,this.router=i,this.snack=s,this.phrases=[],this.loading=!1}ngOnInit(){this.load()}load(){return g(this,null,function*(){this.loading=!0;try{let e=yield this.db.getAllPhrase();this.phrases=(e??[]).filter(r=>r.isComplete===!0)}catch(e){console.error(e),this.snack.open("Error cargando completas","Cerrar",{duration:2e3})}finally{this.loading=!1}})}selectPhrase(e){this.phraseService.setCurrentString(e.phrase),this.router.navigate(["/work-text-phrase"])}copyPhrase(e){e&&navigator.clipboard?.writeText(e.phrase).then(()=>{this.snack.open("Copiado al portapapeles","OK",{duration:1200})}).catch(()=>{this.snack.open("No se pudo copiar","Cerrar",{duration:1500})})}static{this.\u0275fac=function(r){return new(r||t)(m($),m(A),m(w),m(R))}}static{this.\u0275cmp=C({type:t,selectors:[["app-complete-phrase"]],standalone:!0,features:[y],decls:6,vars:3,consts:[["color","primary"],[1,"container"],["diameter","36","mode","indeterminate",4,"ngIf"],[4,"ngIf"],["class","empty",4,"ngIf"],["diameter","36","mode","indeterminate"],[4,"ngFor","ngForOf"],[1,"phrase-card"],[1,"phrase-text",3,"click"],[1,"actions"],["mat-icon-button","",3,"click"],[1,"empty"]],template:function(r,i){r&1&&(o(0,"mat-toolbar",0),l(1,"Frases Completas"),n(),o(2,"div",1),_(3,z,1,0,"mat-progress-spinner",2)(4,H,2,1,"mat-list",3)(5,J,2,0,"div",4),n()),r&2&&(a(3),p("ngIf",i.loading),a(),p("ngIf",!i.loading&&i.phrases.length),a(),p("ngIf",!i.loading&&i.phrases.length===0))},dependencies:[S,P,I,L,N,D,B,V,j,F,E,O,T,b,q,K,k],styles:[".container[_ngcontent-%COMP%]{max-width:900px;margin:16px auto;padding:8px}.phrase-card[_ngcontent-%COMP%]{padding:12px;margin:8px 0;display:flex;justify-content:space-between;align-items:center;cursor:default}.phrase-text[_ngcontent-%COMP%]{flex:1;white-space:pre-wrap}.empty[_ngcontent-%COMP%]{text-align:center;padding:24px;color:#0009}"]})}}return t})();export{he as CompletePhraseComponent};
