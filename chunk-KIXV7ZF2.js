import{a as at}from"./chunk-TPWMSDVW.js";import"./chunk-IOIZZNMI.js";import{a as tt}from"./chunk-YTLFMLCF.js";import"./chunk-IJGCEHVE.js";import{a as ot}from"./chunk-XHF45VSG.js";import{d as W}from"./chunk-XQP2J2F2.js";import{a as J,e as T}from"./chunk-CYV6GGCN.js";import{a as F,b as D,c as z,e as Q,f as N}from"./chunk-JLA7NIDW.js";import{k as K}from"./chunk-RZFICWPV.js";import"./chunk-7IYAGQWM.js";import"./chunk-CARY4E7O.js";import{a as it}from"./chunk-RPBTXWGS.js";import{d as X}from"./chunk-AEH27KAU.js";import"./chunk-SFX6QR5Y.js";import{q as Z,t as E}from"./chunk-CJ667M6G.js";import{a as et,b as nt}from"./chunk-CGZ26RBM.js";import{c as Y,i as k,ma as I,na as h}from"./chunk-5L3IRSEJ.js";import{Ab as R,Ba as j,Bb as q,Cb as A,Eb as S,Gc as L,Hb as l,Hc as B,Ic as G,Jb as g,Jc as H,Nc as C,Rb as i,Sb as d,Tb as w,Vb as V,Wa as r,Xa as b,_b as _,fa as x,ka as u,nb as p,pb as m,rb as U,sa as M,ta as v,tc as $,ub as O,wb as P,xb as y,yb as n,zb as o}from"./chunk-IJPZGQ3D.js";var gt=(e,s)=>s.message;function ft(e,s){if(e&1&&(n(0,"li"),i(1),o()),e&2){let t=s.$implicit;r(),w(" ",t.message," ")}}function ut(e,s){if(e&1&&(n(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon",17),i(4,"notification_important"),o(),i(5," Notifications "),o()(),n(6,"mat-card-content")(7,"ul"),P(8,ft,2,1,"li",null,gt),o()()()),e&2){let t=g();r(8),y(t.notifications)}}function _t(e,s){e&1&&(n(0,"li"),i(1,"No recent usage."),o())}var st=(()=>{class e{constructor(){this.packageSummary={inUse:0,inStock:0,empty:0},this.recentUsages=[],this.notifications=[],this.store=x(tt),this.router=x(k),this.isMaybeReco=!1,$(()=>{let t=this.store.usageRecordStoreService.record();t!==null?(this.reco=t,this.isMaybeReco=!0):this.isMaybeReco=!1})}ngOnInit(){}get summary(){return this.store.getPackageSummary()}getRecord(){let t=this.store.usageRecordStoreService.record();t!==null?(this.reco=t,this.isMaybeReco=!0):this.isMaybeReco=!1}onRegisterUsage(){this.router.navigate(["app/storage/products/register/use"])}onAddNewProduct(){this.router.navigate(["app/storage/products/add"])}goToStorageList(){this.router.navigate(["app/storage/products"])}static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275cmp=u({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[_],decls:47,vars:8,consts:[[1,"dashboard-container"],[1,"dashboard-card","notifications-card"],[1,"quick-actions"],[1,"button-container"],["mat-flat-button","","color","primary",1,"save-button",3,"click"],[1,"secondary-actions"],["mat-stroked-button","",1,"action-button",3,"click"],[1,"dashboard-card","summary-card"],[1,"summary-content"],[1,"summary-item"],[1,"summary-value","in-use"],[1,"summary-label"],[1,"summary-value","in-stock"],[1,"summary-value","empty"],[1,"dashboard-card","recent-usage-card"],[1,"usage-list"],[4,"ngIf"],["color","warn",1,"notification-icon"]],template:function(c,a){c&1&&(n(0,"div",0),p(1,ut,10,0,"mat-card",1),n(2,"div",2)(3,"div",3)(4,"button",4),l("click",function(){return a.onRegisterUsage()}),n(5,"mat-icon"),i(6,"add_shopping_cart"),o(),i(7," Register Product Usage "),o()(),n(8,"div",5)(9,"button",6),l("click",function(){return a.onAddNewProduct()}),n(10,"mat-icon"),i(11,"add_box"),o(),i(12," Add New "),o(),n(13,"button",6),l("click",function(){return a.goToStorageList()}),n(14,"mat-icon"),i(15,"list"),o(),i(16," Products "),o()()(),n(17,"mat-card",7)(18,"mat-card-header")(19,"mat-card-title"),i(20,"Package Summary"),o()(),n(21,"mat-card-content",8)(22,"div",9)(23,"span",10),i(24),o(),n(25,"span",11),i(26,"In Use"),o()(),n(27,"div",9)(28,"span",12),i(29),o(),n(30,"span",11),i(31,"In Stock"),o()(),n(32,"div",9)(33,"span",13),i(34),o(),n(35,"span",11),i(36,"Empty"),o()()()(),n(37,"mat-card",14)(38,"mat-card-header")(39,"mat-card-title"),i(40,"Recent Usage"),o()(),n(41,"mat-card-content")(42,"ul",15)(43,"li")(44,"span"),i(45),o()(),p(46,_t,2,0,"li",16),o()()()()),c&2&&(r(),O(1,a.notifications.length>0?1:-1),r(23),d(a.summary.inUse),r(5),d(a.summary.inStock),r(5),d(a.summary.empty),r(11),V("",a.reco==null?null:a.reco.productName," (",a.reco==null?null:a.reco.quantityUsed," ",a.reco==null?null:a.reco.unitOfMeasure,"))"),r(),m("ngIf",!a.isMaybeReco))},dependencies:[C,B,N,F,z,Q,D,T,J,h,I,E],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f0f2f5;font-family:Inter,sans-serif;overflow:hidden}.app-header[_ngcontent-%COMP%]{height:56px;box-shadow:0 2px 4px #0000001a;z-index:10}.app-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.dashboard-container[_ngcontent-%COMP%]{flex-grow:1;padding:16px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:flex;flex-direction:column;gap:16px}.dashboard-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 8px #0000001a;padding:16px;background-color:#fff}.dashboard-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:12px}.dashboard-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:600;display:flex;align-items:center}.dashboard-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{margin-right:8px;color:#f44336}.dashboard-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{font-size:.9em;color:#555}.notifications-card[_ngcontent-%COMP%]{border:1px solid #ffb74d;background-color:#fff3e0}.notifications-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.notifications-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px;color:#d32f2f}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;text-align:center}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;margin-bottom:4px}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.8em;color:#777}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item.in-use[_ngcontent-%COMP%]{color:#ff9800}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item.in-stock[_ngcontent-%COMP%]{color:#4caf50}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item.empty[_ngcontent-%COMP%]{color:#9e9e9e}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .usage-icon[_ngcontent-%COMP%]{font-size:1em;margin-right:8px;color:#999}.quick-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-top:16px}.quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:100%;height:60px;font-size:1.1em;font-weight:500;border-radius:10px;box-shadow:0 3px 6px #00000026}.quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.quick-actions[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]{background-color:#009688;color:#333;box-shadow:0 4px 8px #00000026}.quick-actions[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 2px 4px #0000001a}.quick-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:flex;gap:16px}.quick-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{flex:1;height:50px;font-size:1em;border:1px solid #bdbdbd;background-color:#fff;color:#333;box-shadow:0 2px 4px #0000001a}.bottom-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:56px;background-color:#fff;border-top:1px solid #e0e0e0;box-shadow:0 -2px 4px #0000001a;position:sticky;bottom:0;width:100%;z-index:10}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:.7em;color:#777;padding:0;min-width:unset;flex:1}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5em;height:1.5em;width:1.5em;margin-bottom:4px}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover, .bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:focus{background-color:transparent}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{color:#673ab7}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#673ab7}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:20px}.button-container[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{width:100%;max-width:320px;height:56px;font-size:1.2em;font-weight:600;border-radius:8px;letter-spacing:1px;text-transform:uppercase;transition:transform .1s ease-out,box-shadow .1s ease-out;box-shadow:0 4px #512da8}.button-container[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:not([disabled]):active{transform:translateY(2px);box-shadow:0 2px #512da8}.button-container[_ngcontent-%COMP%]   .save-button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;box-shadow:none;transform:none}"]})}}return e})();function Ct(e,s){if(e&1){let t=S();n(0,"div",3),l("click",function(){let a=M(t).$implicit,f=g();return v(f.setStep(a.id))}),n(1,"mat-icon"),i(2),o(),n(3,"span",4),i(4),o()()}if(e&2){let t=s.$implicit,c=g();U("active",c.currentStep===t.id),r(2),d(t.icon),r(2),d(t.label)}}var mt=(()=>{class e{constructor(){this.stepChanged=new j,this.tabs=[{id:"favorites",label:"FAVORITES",icon:"star"},{id:"formulations",label:"FORMULATIONS",icon:"science"},{id:"storage",label:"STORAGE",icon:"inventory_2"}],this.currentStep="favorites"}setStep(t){this.currentStep=t,this.stepChanged.emit(t)}static{this.\u0275fac=function(c){return new(c||e)}}static{this.\u0275cmp=u({type:e,selectors:[["app-magic-nav"]],outputs:{stepChanged:"stepChanged"},standalone:!0,features:[_],decls:3,vars:1,consts:[[1,"magic-menu"],[1,"tab-container"],["class","tab","tabindex","0",3,"active","click",4,"ngFor","ngForOf"],["tabindex","0",1,"tab",3,"click"],[1,"tab-label"]],template:function(c,a){c&1&&(n(0,"nav",0)(1,"div",1),p(2,Ct,5,4,"div",2),o()()),c&2&&(r(2),m("ngForOf",a.tabs))},dependencies:[h,I,C,L],styles:["[_nghost-%COMP%]{display:block;width:100%}.magic-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;position:fixed;bottom:0;left:0;width:100%;height:80px;background:#05418f;box-shadow:0 -4px 15px #000c;border-radius:0;z-index:9;padding:0 10px}.tab-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-around}.tab[_ngcontent-%COMP%]{text-align:center;color:#fff9;font-family:Arial,sans-serif;font-size:12px;transition:transform .3s ease,color .3s ease;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:6px 0;min-height:70px;overflow:visible}.tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{display:block;margin-top:6px}.tab[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;line-height:1;height:32px;width:32px;overflow:visible;color:#fffc;filter:drop-shadow(0 3px 4px rgba(0,0,0,.7));transition:color .3s ease,filter .3s ease}.tab.active[_ngcontent-%COMP%]{transform:translateY(-5px) scale(1.15)}.tab.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#eaebed;filter:drop-shadow(0 0 15px #d3d3d0);animation:_ngcontent-%COMP%_pulseGlow 1.5s infinite alternate;transform:perspective(200px) translateZ(10px)}.tab.active[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{color:#f9f9fb;text-shadow:0 0 6px rgb(255,255,255)}@keyframes _ngcontent-%COMP%_pulseGlow{0%{filter:drop-shadow(0 0 10px #fff200)}to{filter:drop-shadow(0 0 25px #fcfcfc)}}@media (max-width: 768px){.magic-menu[_ngcontent-%COMP%]{height:70px}.tab[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:28px}.tab[_ngcontent-%COMP%]   .tab-label[_ngcontent-%COMP%]{font-size:11px}}"]})}}return e})();var ht=(e,s)=>s.name;function xt(e,s){e&1&&(n(0,"div",4)(1,"p"),i(2,"No favorites saved yet. Add products to favorites to see them here."),o()())}function Mt(e,s){if(e&1){let t=S();n(0,"mat-card",6),l("click",function(){let a=M(t).$implicit,f=g(2);return v(f.goToDetail(a.id))}),n(1,"mat-card-title"),i(2),o(),n(3,"mat-card-content")(4,"p")(5,"strong"),i(6,"Active Ingredient:"),o(),i(7),o()()()}if(e&2){let t=s.$implicit;r(2),d(t.name),r(5),w(" ",t.activeIngredients,"")}}function vt(e,s){if(e&1&&(n(0,"section"),p(1,xt,3,0,"div",4),P(2,Mt,8,2,"mat-card",5,ht),o()),e&2){let t=g();r(),O(1,t.favorites.length===0?1:-1),r(),y(t.favorites)}}function bt(e,s){e&1&&(n(0,"section"),R(1,"app-formulations-list"),o())}function Ot(e,s){e&1&&(n(0,"section"),R(1,"app-dashboard"),o())}var ce=(()=>{class e{constructor(t,c,a){this.favService=t,this.router=c,this.navegateService=a,this.favorites=[],this.title="My Products",this.currentStep="favorites",this.pestData={id:0,name:""},this.id=0,this.navService=x(nt),this.getData()}ngOnInit(){this.favorites=this.favService.getFavorites()}goToDetail(t){this.navegateService.goToDetail("app/product",t,"favorites")}goHome(){this.router.navigate(["/home"])}getData(){this.pestData=this.navegateService.getData(this.router),this.id=this.pestData.id,this.checkCcurrentStep(this.pestData.name),this.setNav()}checkCcurrentStep(t){t!=""?this.currentStep=t==="storage"?"storage":t==="formulations"?"formulations":"favorites":this.currentStep="favorites",this.setStep(this.currentStep)}setStep(t){switch(this.currentStep=t,t){case"favorites":this.title="My Products",this.navService.updateTitle(this.title);break;case"formulations":this.title="Formulations",this.navService.updateTitle(this.title);break;case"storage":this.title="Storage",this.navService.updateTitle(this.title);break}}setNav(){this.navService.reSetNavConfig();let t=new et;t.title="My Products",t.ico.menu=!1,t.ico.back=!0,t.ico.favorite=!1,t.ico.logut=!1,t.ico.label=!1,t.ico.sds=!1,t.goto="app/home",this.navService.setNavConfig(t)}static{this.\u0275fac=function(c){return new(c||e)(b(ot),b(k),b(it))}}static{this.\u0275cmp=u({type:e,selectors:[["app-favorites"]],standalone:!0,features:[_],decls:6,vars:4,consts:[[3,"stepChanged"],[1,"section-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"empty"],[1,"clickable-card"],[1,"clickable-card",3,"click"]],template:function(c,a){c&1&&(n(0,"app-magic-nav",0),l("stepChanged",function(lt){return a.setStep(lt)}),o(),n(1,"main",1),q(2,2),p(3,vt,4,1,"section",3)(4,bt,2,0,"section",3)(5,Ot,2,0,"section",3),A(),o()),c&2&&(r(2),m("ngSwitch",a.currentStep),r(),m("ngSwitchCase","favorites"),r(),m("ngSwitchCase","formulations"),r(),m("ngSwitchCase","storage"))},dependencies:[C,G,H,Y,Z,E,T,K,h,N,F,z,D,W,at,X,st,mt],styles:[".main-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:0 12px;height:56px;color:#fff;position:sticky;top:0;z-index:10}.toolbar-title[_ngcontent-%COMP%]{font-weight:600;margin-left:16px;font-size:18px}.section-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500;margin:20px 0 12px;text-align:center}.step-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:#f5f5f5;padding:6px 0;position:sticky;top:56px;z-index:9;border-bottom:1px solid #ddd}.step-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;align-items:center;text-transform:none;font-size:12px;color:#555}.step-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.step-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#04519f}.step-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2c79c5}.section-container[_ngcontent-%COMP%]{padding:16px;min-height:calc(100vh - 112px);background-color:#fafafa}.clickable-card[_ngcontent-%COMP%]{padding:1rem;cursor:pointer;border-radius:12px;box-shadow:0 2px 8px #00000014}.empty[_ngcontent-%COMP%]{text-align:center;color:#777;margin-top:2rem;font-style:italic}"]})}}return e})();export{ce as FavoritesComponent};
