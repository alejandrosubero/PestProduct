import{a as et}from"./chunk-YTLFMLCF.js";import"./chunk-IJGCEHVE.js";import{b as B,c as W,e as j}from"./chunk-5HXRLNIH.js";import{a as Y,c as Z,f as tt}from"./chunk-32J2JANK.js";import{c as q,e as R,f as U,i as $,j as G,l as H,m as J}from"./chunk-QI7IUHGN.js";import{a as at}from"./chunk-2R635CIO.js";import"./chunk-CARY4E7O.js";import{b as z}from"./chunk-QNN6LKLN.js";import{c as T}from"./chunk-U2HG67ES.js";import{ha as K,ia as X}from"./chunk-LDXIF6DQ.js";import{a as nt,b as ot}from"./chunk-PHAMXEHF.js";import{b as D,f as Q,i as V,t as A}from"./chunk-VNOUME5J.js";import{Eb as P,Fc as L,Hb as u,Hc as F,Jb as d,Nc as N,Rb as r,Sb as g,Tb as v,Ub as y,Wa as i,Wb as S,Xb as w,Yb as I,_b as E,f as h,fa as p,ka as k,nb as M,pb as m,sa as _,ta as C,ub as x,wb as O,xb as b,yb as e,zb as o}from"./chunk-IJPZGQ3D.js";var it=(n,s)=>s.id;function rt(n,s){if(n&1){let t=P();e(0,"button",8),u("click",function(){_(t);let a=d();return C(a.clearSearch())}),e(1,"mat-icon"),r(2,"close"),o()()}}function ct(n,s){n&1&&(e(0,"div"),r(1,"\u{1F504} loading products..."),o())}function st(n,s){if(n&1&&(e(0,"div",5),r(1),o()),n&2){let t=d();i(),v("\u274C ",t.error,"")}}function lt(n,s){if(n&1){let t=P();e(0,"mat-card",11),u("click",function(){let a=_(t).$implicit,l=d(2);return C(l.onDetail(a.id))}),e(1,"mat-card-content")(2,"div",12)(3,"div",13),r(4),o(),e(5,"div",13),r(6),o(),e(7,"div",14),r(8),o(),e(9,"div",14),r(10),o(),e(11,"div",15)(12,"span",16),r(13),o(),e(14,"span",17),r(15),o()()(),e(16,"mat-icon",18),r(17,"chevron_right"),o()()()}if(n&2){let t=s.$implicit,c=d(2);i(4),g(t.name),i(2),g(t.id),i(2),y(" ",t.package.currentQuantity," / ",t.package.initialQuantity," "),i(2),g(t.package.unitOfMeasure),i(2),m("ngClass",c.getStatusClass(t.package.status)),i(),g(t.package.status),i(2),v("Location: ",t.package.location.locationArea,"")}}function dt(n,s){if(n&1&&(e(0,"div")(1,"div",9),O(2,lt,18,8,"mat-card",10,it),o()()),n&2){let t=d();i(2),b(t.products)}}var Tt=(()=>{class n{constructor(){this.router=p(T),this.navegateService=p(at),this.store=p(et),this.navService=p(ot),this.searchQuery="",this.setNav()}ngOnInit(){}get products(){return this.store.filteredProducts().sort((a,l)=>a.name.localeCompare(l.name))}get loading(){return this.store.loading()}get error(){return this.store.error()}applyFilter(){this.store.setFilter(this.searchQuery)}clearSearch(){this.searchQuery="",this.applyFilter()}deleteProduct(t){return h(this,null,function*(){confirm("\xBFDo ypu whant Delete this Product?")&&(yield this.store.delete(t))})}statusClass(t){return t.replace(/\s/g,"")}getStatusClass(t){switch(t){case"In Stock":return"status-in-stock";case"In Use":return"status-in-use";case"Empty":return"status-empty";default:return""}}onDetail(t){t!==void 0?this.navegateService.goToDetail("app/storage/products/detail",t,""):console.warn("Attempting to browse in detail with an undefined ID.")}onBackClick(){this.navegateService.goFavorites("storage",1)}onAddNew(){this.router.navigate(["app/storage/products/add"])}setNav(){this.navService.reSetNavConfig();let t=new nt;t.title="Inventory Packages",t.ico.menu=!1,t.ico.back=!0,t.ico.favorite=!1,t.ico.logut=!1,t.ico.label=!1,t.ico.sds=!1,t.favorite.url="storage",t.goto="storage",this.navService.setNavConfig(t)}static{this.\u0275fac=function(c){return new(c||n)}}static{this.\u0275cmp=k({type:n,selectors:[["app-product-list"]],standalone:!0,features:[E],decls:14,vars:5,consts:[[1,"package-list-container"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Nombre, ubicaci\xF3n, estado...",3,"ngModelChange","input","ngModel"],["matPrefix",""],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"error"],[4,"ngIf"],["mat-fab","","color","primary","aria-label","Add New",1,"fab-button",3,"click"],["matSuffix","","mat-icon-button","",3,"click"],[1,"package-cards-wrapper"],[1,"package-card"],[1,"package-card",3,"click"],[1,"package-info"],[1,"product-name"],[1,"quantity"],[1,"status-location"],[1,"status-badge",3,"ngClass"],[1,"location"],[1,"arrow-icon"]],template:function(c,a){c&1&&(e(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),r(3," Search product"),o(),e(4,"input",2),I("ngModelChange",function(f){return w(a.searchQuery,f)||(a.searchQuery=f),f}),u("input",function(){return a.applyFilter()}),o(),e(5,"mat-icon",3),r(6,"search"),o(),M(7,rt,3,0,"button",4),o(),M(8,ct,2,0,"div")(9,st,2,1,"div",5)(10,dt,4,0,"div",6),o(),e(11,"button",7),u("click",function(){return a.onAddNew()}),e(12,"mat-icon"),r(13,"add"),o()()),c&2&&(i(4),S("ngModel",a.searchQuery),i(3),m("ngIf",a.searchQuery),i(),x(8,a.loading?8:-1),i(),x(9,a.error?9:-1),i(),m("ngIf",!a.loading&&!a.error))},dependencies:[N,L,F,z,X,K,j,W,B,J,H,$,q,R,U,G,tt,Y,Z,A,D,Q,V],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f0f2f5;font-family:Inter,sans-serif;overflow:hidden}.app-header[_ngcontent-%COMP%]{height:56px;box-shadow:0 2px 4px #0000001a;z-index:10}.app-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.package-list-container[_ngcontent-%COMP%]{flex-grow:1;padding:16px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:flex;flex-direction:column;gap:16px}.search-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px;border-radius:8px;background-color:#fff}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-radius:8px}.package-cards-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.package-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 8px #0000001a;background-color:#fff;cursor:pointer;transition:transform .2s ease-in-out}.package-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.package-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]{flex-grow:1;margin-right:16px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:1.1em;font-weight:600;color:#333;margin-bottom:4px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{font-size:.9em;color:#555;margin-bottom:4px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.8em;color:#777}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:8px;font-weight:500;margin-right:8px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge.status-in-stock[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge.status-in-use[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge.status-empty[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#616161}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{font-weight:400}.package-card[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#ccc}.no-results-message[_ngcontent-%COMP%]{text-align:center;color:#777;font-style:italic;margin-top:20px}.error[_ngcontent-%COMP%]{color:red}.fab-button[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:1000;box-shadow:0 4px 10px #0000004d;transition:transform .2s ease-in-out}.fab-button[_ngcontent-%COMP%]:active{transform:scale(.95)}"]})}}return n})();export{Tt as ProductListComponent};
