import{a as oe,b as ae,c as re,d as ce,e as le,f as pe,g as se,h as me,i as de}from"./chunk-IC3IT5Q5.js";import{a as ue,b as fe}from"./chunk-SUYY5MRZ.js";import"./chunk-WVRGKLLC.js";import{a as X,b as Y,c as ee,d as te,e as ne,f as ie}from"./chunk-FYTRXBUD.js";import{a as Z}from"./chunk-KLLYY3H4.js";import"./chunk-HS3UH6NW.js";import{a as W,e as j}from"./chunk-GHBLUCIC.js";import{c as V,i as B,j as H,m as L}from"./chunk-BB6P6G7T.js";import{a as K}from"./chunk-G3LUHJHW.js";import"./chunk-TDRG7WWG.js";import"./chunk-CARY4E7O.js";import{d as U}from"./chunk-LELZTVYS.js";import"./chunk-PUEQNPSS.js";import{b as R}from"./chunk-EJRSTOA6.js";import{c as q}from"./chunk-WB3EYWFM.js";import{ea as A,ka as $,la as Q}from"./chunk-FUN2273E.js";import{a as G,b as J}from"./chunk-VKZQFCKO.js";import"./chunk-6LBMZFPM.js";import{$b as M,Bb as r,Cb as a,Db as b,Eb as C,Fb as x,Hb as E,Kb as I,Kc as F,Lc as N,Mb as m,Rc as z,Ub as p,Vb as u,Wb as f,Za as o,Zb as h,_a as _,_b as P,bc as k,cc as D,dc as T,ia as v,na as O,qb as s,sb as l,ub as y,va as w,wa as S}from"./chunk-3P7EKYVL.js";var _e=()=>({}),ge=t=>[t];function Ce(t,c){if(t&1&&(r(0,"mat-option",6),p(1),a()),t&2){let e=c.$implicit;l("value",e),o(),u(e.title)}}function xe(t,c){if(t&1&&(r(0,"mat-option",6),p(1),a()),t&2){let e=c.$implicit;l("value",e),o(),u(e.title)}}function he(t,c){if(t&1&&(r(0,"div",11)(1,"mat-icon",12),p(2,"warning"),a(),r(3,"strong"),p(4),a(),p(5," differences were found between the products. "),a()),t&2){let e=m(2);o(4),u(e.countDifferences())}}function Pe(t,c){t&1&&(r(0,"span",18),p(1," Different "),a())}function Me(t,c){if(t&1&&(r(0,"th",22),p(1),a()),t&2){let e=m().$implicit;o(),f(" ",e.title," ")}}function ve(t,c){if(t&1&&(r(0,"td",23),p(1),a()),t&2){let e=m().$implicit,n=m().$implicit,i=m(2);y("highlight-cell",i.quickCompare&&i.isDifferent(n)),o(),f(" ",e[n]||"N/A"," ")}}function Oe(t,c){if(t&1&&(C(0,19),s(1,Me,2,1,"th",20)(2,ve,2,3,"td",21),x()),t&2){let e=c.$implicit,n=c.index;l("matColumnDef","col-"+e.id+"-"+n)}}function we(t,c){t&1&&b(0,"tr",24)}function Se(t,c){if(t&1&&(r(0,"mat-expansion-panel",13)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),s(3,Pe,2,0,"span",14),a(),r(4,"mat-panel-description"),p(5),a()(),r(6,"table",15),s(7,Oe,3,1,"ng-container",16)(8,we,1,0,"tr",17),a()()),t&2){let e=c.$implicit,n=m(2);l("hidden",n.quickCompare&&!n.isDifferent(e)),o(3),l("ngIf",n.quickCompare&&n.isDifferent(e)),o(2),f(" ",n.formatFieldName(e)," "),o(),l("dataSource",T(7,ge,D(6,_e))),o(),l("ngForOf",n.nonNullSelectedProducts),o(),l("matRowDefColumns",n.displayedColumns)}}function ye(t,c){if(t&1){let e=E();C(0),r(1,"div",7)(2,"button",8),I("click",function(){w(e);let i=m();return S(i.toggleQuickCompare())}),r(3,"mat-icon"),p(4),a(),p(5),a()(),s(6,he,6,1,"div",9),r(7,"mat-accordion"),s(8,Se,9,9,"mat-expansion-panel",10),a(),x()}if(t&2){let e=m();o(4),u(e.quickCompare?"list":"rule"),o(),f(" ",e.quickCompare?"Show All":"Quick Compare"," "),o(),l("ngIf",e.quickCompare),o(2),l("ngForOf",e.fields)}}var Ye=(()=>{class t{constructor(e,n,i){this.technicalProductService=e,this.navegateService=n,this.router=i,this.navService=v(J),this.products=[],this.allProducts=[],this.quickCompare=!1,this.selectedProducts=[null,null],this.title="Comparator Technical Notes",this.fields=["productOverview","activeIngredients","howItWorks","spectrumOfControl","applicationRates","applicationTips","Advantages","safetyEnvironmentalNotes","physicalChemicalProperties"],this.getAllProducts(),this.setNav()}getAllProducts(){let e=this.technicalProductService.getAllTechnicalProducts();if(e){let n=e.sort((i,g)=>i.title.localeCompare(g.title));this.allProducts=n,this.products=this.allProducts}}ngOnInit(){}selectProduct(e){this.selectedProducts.includes(e)?this.selectedProducts=this.selectedProducts.filter(n=>n!==e):this.selectedProducts.length<2&&this.selectedProducts.push(e)}toggleQuickCompare(){this.quickCompare=!this.quickCompare}isDifferent(e){if(this.selectedProducts.length!==2)return!1;let n=this.selectedProducts[0]?.[e]||"",i=this.selectedProducts[1]?.[e]||"";return n!==i}countDifferences(){return this.fields.filter(e=>this.isDifferent(e)).length}get displayedColumns(){return this.nonNullSelectedProducts.map((e,n)=>"col-"+e.id+"-"+n)}get nonNullSelectedProducts(){return this.selectedProducts.filter(e=>e!==null)}formatFieldName(e){return e.replace(/([A-Z])/g," $1").replace(/^./,n=>n.toUpperCase())}back(){this.router.navigate(["/home"])}setNav(){this.navService.reSetNavConfig();let e=new G;e.title=this.title,e.ico.menu=!1,e.ico.back=!0,e.ico.home=!0,e.ico.favorite=!1,e.ico.logut=!1,e.ico.label=!1,e.ico.sds=!1,e.goto="app/lab/field",this.navService.setNavConfig(e)}static{this.\u0275fac=function(n){return new(n||t)(_(Z),_(K),_(q))}}static{this.\u0275cmp=O({type:t,selectors:[["app-compare-products"]],standalone:!0,features:[k],decls:13,vars:5,consts:[[1,"comparison-container"],[1,"product-selectors"],["appearance","fill"],[3,"valueChange","value"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"mode-toggle"],["mat-raised-button","","color","primary",3,"click"],["class","differences-counter",4,"ngIf"],[3,"hidden",4,"ngFor","ngForOf"],[1,"differences-counter"],["color","warn"],[3,"hidden"],["class","highlight",4,"ngIf"],["mat-table","",1,"comparison-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"highlight"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"highlight-cell",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-row",""]],template:function(n,i){n&1&&(r(0,"div",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),p(4,"Product 1"),a(),r(5,"mat-select",3),M("valueChange",function(d){return P(i.selectedProducts[0],d)||(i.selectedProducts[0]=d),d}),s(6,Ce,2,2,"mat-option",4),a()(),r(7,"mat-form-field",2)(8,"mat-label"),p(9,"Product 2"),a(),r(10,"mat-select",3),M("valueChange",function(d){return P(i.selectedProducts[1],d)||(i.selectedProducts[1]=d),d}),s(11,xe,2,2,"mat-option",4),a()()(),s(12,ye,9,4,"ng-container",5),a()),n&2&&(o(5),h("value",i.selectedProducts[0]),o(),l("ngForOf",i.products),o(4),h("value",i.selectedProducts[1]),o(),l("ngForOf",i.products),o(),l("ngIf",i.selectedProducts.length===2&&i.selectedProducts[0]&&i.selectedProducts[1]))},dependencies:[z,F,N,j,W,ie,ne,X,Y,te,ee,de,oe,re,ce,ae,se,le,pe,me,Q,$,U,H,B,V,fe,ue,A,L,R],styles:['@charset "UTF-8";.comparison-container[_ngcontent-%COMP%]{font-size:12px;padding:8px;overflow-x:auto}.product-selectors-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.product-selectors[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;min-width:280px;margin-bottom:12px}.product-selectors[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 0;min-width:140px}@media (max-width: 320px){.product-selectors[_ngcontent-%COMP%]{gap:4px}.product-selectors[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:120px}}.mode-toggle[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.differences-counter[_ngcontent-%COMP%]{text-align:center;margin:8px 0;font-size:13px;display:flex;justify-content:center;align-items:center;gap:6px}.comparison-table[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;border-collapse:collapse}.field-cell[_ngcontent-%COMP%]{font-weight:700;background:var(--mat-table-header-container-background-color, #fafafa)}.highlight[_ngcontent-%COMP%]{color:var(--mat-sys-error, #d32f2f);font-weight:700}.highlight-cell[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--mat-sys-primary) 15%,transparent)}.vertical-text[_ngcontent-%COMP%]{writing-mode:vertical-rl;text-orientation:mixed}.comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;vertical-align:top;padding:.5rem;word-break:break-word}@media (max-width: 400px){.comparison-container[_ngcontent-%COMP%]{padding:4px;font-size:11px}.mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:11px;padding:4px 8px}.differences-counter[_ngcontent-%COMP%]{font-size:12px;gap:4px}.comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:13px;padding:.25rem}}mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{font-size:20px}mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700}mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-panel-description[_ngcontent-%COMP%]{font-size:20px;color:#000000b3}mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-content[_ngcontent-%COMP%]{font-size:20px;line-height:1.4;padding:.5rem 1rem}@media (max-width: 400px){mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]{font-size:20px}mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-panel-description[_ngcontent-%COMP%]{font-size:20px}mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-content[_ngcontent-%COMP%]{font-size:20px;padding:.25rem .5rem}}']})}}return t})();export{Ye as CompareProductsComponent};
