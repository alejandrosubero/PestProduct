import{a as K}from"./chunk-QI24SS77.js";import"./chunk-4JNPEXEF.js";import{a as J}from"./chunk-IDYV4ICB.js";import"./chunk-FYP6HQPU.js";import{a as V,b as B,c as q,f as G}from"./chunk-4SPE7LMF.js";import{c as E,i as j,l as A,m as W}from"./chunk-RPOOMM4R.js";import{a as X}from"./chunk-MAELP3WW.js";import"./chunk-7GZRYZ3W.js";import"./chunk-CARY4E7O.js";import{d as H}from"./chunk-EYGZ565A.js";import"./chunk-HEOXUAG5.js";import{b as D}from"./chunk-NMLM2UYX.js";import{c as k}from"./chunk-JVFQFS5Z.js";import{na as R}from"./chunk-OUSHV2EZ.js";import{a as Q,b as U}from"./chunk-NKIKHFFW.js";import{b as L,f as z,i as F,t as $}from"./chunk-ZQAR5GQS.js";import{$a as u,$b as w,Ab as P,Bb as _,Cb as s,Db as l,Ib as x,Lb as g,Nb as T,Tc as y,Vb as p,Wb as b,Xb as O,_a as m,_b as S,ac as I,cc as N,ja as h,oa as C,wa as v,xa as M}from"./chunk-BTT23VXK.js";var Y=(c,f)=>f.title;function Z(c,f){if(c&1){let t=x();s(0,"mat-card",5),g("click",function(){let i=v(t).$implicit,o=T();return M(o.goToDetail(i.id))}),s(1,"mat-card-title"),p(2),l(),s(3,"mat-card-content")(4,"p")(5,"strong"),p(6,"Active Ingredient:"),l(),p(7),l()()()}if(c&2){let t=f.$implicit;m(2),b(t.title),m(5),O(" ",t.activeIngredients,"")}}var Pt=(()=>{class c{constructor(t,e,i){this.technicalProductService=t,this.navegateService=e,this.router=i,this.filteredProducts=[],this.allProducts=[],this.searchTerm="",this.title="Technical Notes",this.navService=h(U),this.getAllProducts(),this.setNav()}getAllProducts(){let t=this.technicalProductService.getAllTechnicalProducts();if(t){let e=t.sort((i,o)=>i.title.localeCompare(o.title));this.allProducts=e,this.allProducts&&(this.filteredProducts=this.allProducts)}}buscarCoincidencias2(){let t=this.searchTerm.trim().toLowerCase(),e=n=>n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),i=n=>{let r=e(n.title),a=e(n.activeIngredients),d=e(n.spectrumOfControl);return`${r} ${a} ${d}`},o=n=>{let r=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`\\b${r}\\b`,"i")};if(t.startsWith("*")){let n=e(t.slice(1).trim());n.length>=2?this.filteredProducts=this.allProducts.filter(r=>e(r.activeIngredients).includes(n)):this.filteredProducts=[]}else{let r=e(t).split(/\s+/).join(" ").trim(),a=o(r);this.filteredProducts=this.allProducts.filter(d=>a.test(i(d)))}}buscarCoincidencias(){let t=this.searchTerm.trim().toLowerCase(),e=n=>n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),i=n=>{let r=e(n.title),a=e(n.activeIngredients),d=e(n.spectrumOfControl);return`${r} ${a} ${d}`};if(t.length===0){this.filteredProducts=[...this.allProducts];return}if(t.length<2){this.filteredProducts=[];return}if(t.length<2){this.filteredProducts=[];return}let o=e(t);this.filteredProducts=this.allProducts.filter(n=>{let r=i(n);if(o.startsWith("*")){let a=o.slice(1).trim();return e(n.activeIngredients).includes(a)}return r.includes(o)})}back(){this.router.navigate(["app/home"])}goToDetail(t){let e="app/technical/notes";this.navegateService.goToDetail(e,t,e)}setNav(){this.navService.reSetNavConfig();let t=new Q;t.title="Technical Notes",t.ico.menu=!0,t.ico.back=!1,t.ico.favorite=!1,t.ico.logut=!1,t.ico.label=!1,t.ico.sds=!1,t.goto="app/home",this.navService.setNavConfig(t)}static{this.\u0275fac=function(e){return new(e||c)(u(J),u(X),u(k))}}static{this.\u0275cmp=C({type:c,selectors:[["app-technical-notes-list"]],standalone:!0,features:[N],decls:8,vars:1,consts:[[1,"content"],["appearance","fill",1,"search-box"],["matInput","",3,"ngModelChange","input","ngModel"],[1,"results"],[1,"clickable-card"],[1,"clickable-card",3,"click"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),p(3,"Search for product or pest"),l(),s(4,"input",2),I("ngModelChange",function(n){return w(i.searchTerm,n)||(i.searchTerm=n),n}),g("input",function(){return i.buscarCoincidencias()}),l()(),s(5,"div",3),P(6,Z,8,2,"mat-card",4,Y),l()()),e&2&&(m(4),S("ngModel",i.searchTerm),m(2),_(i.filteredProducts))},dependencies:[y,D,R,W,A,j,E,$,L,z,F,H,K,G,V,q,B],styles:[".container[_ngcontent-%COMP%]{height:100vh;min-height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.content[_ngcontent-%COMP%]{padding:1rem;height:100%;overflow-y:auto}.content[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:1rem auto;display:block}.content[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem}.footer[_ngcontent-%COMP%]{text-align:center;padding:1rem;background-color:#eee;font-size:.9rem}.clickable-card[_ngcontent-%COMP%]{padding:1rem;cursor:pointer;transition:transform .2s}.clickable-card[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.mat-icon.star-active[_ngcontent-%COMP%]{color:gold}.main-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:0 12px;height:56px;color:#fff;top:0;z-index:10}.toolbar-title[_ngcontent-%COMP%]{font-weight:600;margin-left:16px;font-size:18px}.section-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500;margin:20px 0 12px;text-align:center}.step-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:#f5f5f5;padding:6px 0;top:56px;z-index:9;border-bottom:1px solid #ddd}.step-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;align-items:center;text-transform:none;font-size:12px;color:#555}.step-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.step-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#04519f}.step-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2c79c5}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]})}}return c})();export{Pt as TechnicalNotesListComponent};
